{"version":3,"file":"index.js","sources":["../index.js"],"sourcesContent":["import './src/styles/demo.scss'\r\n\r\n/* global Keypad */\r\nKeypad.isMobile = /Mobile/.test(navigator.userAgent)\r\n\r\n// setTimeout(() => (document.querySelector('main').scrollTop = 10000), 200)\r\n\r\ndemo('base', () => {\r\n  var kypd = new Keypad()\r\n\r\n  return kypd\r\n})\r\n\r\ndemo('listen', () => {\r\n  var kypd = new Keypad({\r\n    el: '#listened-input'\r\n  })\r\n\r\n  return kypd\r\n})\r\n\r\ndemo('input', () => {\r\n  var password = document.querySelector('#password')\r\n  var items = password.querySelectorAll('i')\r\n\r\n  var input = document.querySelector('#readonly-input')\r\n  var kypd = new Keypad({\r\n    input: input,\r\n    onend: function (key) {\r\n      var code = key[2]\r\n      var n = input.value.length + 1\r\n\r\n      if (code === 'backspace') {\r\n        n--\r\n\r\n        if (n === 0) return kypd.hide()\r\n        if (n > items.length) n = items.length - 1\r\n\r\n        items[n - 1].classList.remove('on')\r\n\r\n        return false\r\n      }\r\n\r\n      if (n > items.length) {\r\n        kypd.hide()\r\n        return true\r\n      }\r\n\r\n      if (n === items.length) {\r\n        items[n - 1].classList.add('on')\r\n        return kypd.hide()\r\n      }\r\n\r\n      items[n - 1].classList.add('on')\r\n    }\r\n  })\r\n\r\n  password.addEventListener('click', ev => kypd.show(), false)\r\n\r\n  return kypd\r\n})\r\n\r\ndemo('options', () => {\r\n  var kypd = new Keypad(function (options) {\r\n    options.dark = true\r\n    options.name = 'qwer'\r\n    options.hide = 'click'\r\n\r\n    options.onstart = function (key) {\r\n      id('options-print-1').textContent = key[0]\r\n      id('options-print-2').textContent = key[1]\r\n      id('options-print-3').textContent = key[2]\r\n    }\r\n\r\n    return options\r\n  })\r\n\r\n  var theme = {\r\n    dark: id('theme-color-1'),\r\n    light: id('theme-color-2')\r\n  }\r\n\r\n  Object.entries(theme).forEach(function (action) {\r\n    var name = action[0]\r\n    var target = action[1]\r\n\r\n    target.addEventListener('click', function (ev) {\r\n      ev.stopPropagation()\r\n      target.querySelector('input[name]').click()\r\n\r\n      kypd.dark(name === 'dark')\r\n    }, false)\r\n  })\r\n\r\n  var control = {\r\n    toggle: id('control-1'),\r\n    show: id('control-2'),\r\n    hide: id('control-3')\r\n  }\r\n\r\n  Object.entries(control).forEach(function (action) {\r\n    var name = action[0]\r\n    var target = action[1]\r\n\r\n    target.addEventListener('click', function (ev) {\r\n      ev.stopPropagation()\r\n\r\n      var layout = document.querySelector('input[name=\"layout\"][checked]').value\r\n\r\n      kypd[name](layout)\r\n    }, false)\r\n  })\r\n\r\n  var layout = {\r\n    number: id('layout-1'),\r\n    qwer: id('layout-2')\r\n  }\r\n\r\n  Object.entries(layout).forEach(function (action) {\r\n    var name = action[0]\r\n    var target = action[1]\r\n\r\n    target.addEventListener('click', function (ev) {\r\n      ev.stopPropagation()\r\n\r\n      target.querySelector('input[name]').click()\r\n\r\n      kypd.hide() || kypd.show(name)\r\n    }, false)\r\n  })\r\n\r\n  function id (id) {\r\n    return document.querySelector('#' + id)\r\n  }\r\n}, false)\r\n\r\nfunction demo (id, cb) {\r\n  const demo = document.querySelector(`#${id}`)\r\n\r\n  if (!demo) return false\r\n\r\n  const buttons = {\r\n    show: demo.querySelector('.js-show'),\r\n    hide: demo.querySelector('.js-hide'),\r\n    toggle: demo.querySelector('.js-toggle')\r\n  }\r\n\r\n  const keypad = cb.call(demo)\r\n\r\n  if (!keypad) return false\r\n\r\n  for (const [action, button] of Object.entries(buttons)) {\r\n    if (!button) continue\r\n\r\n    button.addEventListener('click', ev => {\r\n      ev.stopPropagation()\r\n      keypad[action]()\r\n    }, false)\r\n  }\r\n}\r\n"],"names":["Keypad","isMobile","test","navigator","userAgent","demo","kypd","password","document","querySelector","items","querySelectorAll","input","key","code","n","value","length","hide","classList","remove","add","addEventListener","show","options","dark","name","onstart","textContent","theme","id","entries","forEach","action","target","ev","stopPropagation","click","control","layout","cb","buttons","keypad","call","button","Object"],"mappings":"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"}