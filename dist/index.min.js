!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t():"function"==typeof define&&define.amd?define(t):t()}(0,function(){"use strict";!function(e,t){void 0===t&&(t={});var n=t.insertAt;if(e&&"undefined"!=typeof document){var r=document.head||document.getElementsByTagName("head")[0],i=document.createElement("style");i.type="text/css","top"===n&&r.firstChild?r.insertBefore(i,r.firstChild):r.appendChild(i),i.styleSheet?i.styleSheet.cssText=e:i.appendChild(document.createTextNode(e))}}('.kypd-passwords{display:-webkit-box;display:-ms-flexbox;display:flex}.kypd-passwords+input{margin-bottom:12px}.kypd-passwords>i{border-radius:4px;-webkit-box-shadow:0 2px 4px 1px rgba(67,186,255,.383);box-shadow:0 2px 4px 1px rgba(67,186,255,.383);height:32px;width:32px;margin:2px;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;display:-webkit-box;display:-ms-flexbox;display:flex}.kypd-passwords>i:before{content:"";border-radius:5px;background:#22cbff;height:10px;width:10px;display:block;-webkit-transition:opacity .25s ease,visibility .25s ease;transition:opacity .25s ease,visibility .25s ease;opacity:.2}.kypd-passwords>i.on:before{opacity:1}.kypd-control button,.kypd-layout label,.kypd-theme label{margin-right:12px}');var e=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,d=e[Symbol.iterator]();!(r=(a=d.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{!r&&d.return&&d.return()}finally{if(i)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();function t(t,n){var r=document.querySelector("#"+t);if(!r)return!1;var i={show:r.querySelector(".js-show"),hide:r.querySelector(".js-hide"),toggle:r.querySelector(".js-toggle")},o=n.call(r);if(!o)return!1;var a=function(e,t){if(!t)return"continue";t.addEventListener("click",function(t){t.stopPropagation(),o[e]()},!1)},d=!0,c=!1,s=void 0;try{for(var l,u=Object.entries(i)[Symbol.iterator]();!(d=(l=u.next()).done);d=!0){var p=l.value,f=e(p,2);a(f[0],f[1])}}catch(e){c=!0,s=e}finally{try{!d&&u.return&&u.return()}finally{if(c)throw s}}}Keypad.isMobile=/Mobile/.test(navigator.userAgent),t("base",function(){return new Keypad}),t("listen",function(){return new Keypad({el:"#listened-input"})}),t("input",function(){var e=document.querySelector("#password"),t=e.querySelectorAll("i"),n=document.querySelector("#readonly-input"),r=new Keypad({input:n,onend:function(e){var i=e[2],o=n.value.length+1;return"backspace"===i?0===--o?r.hide():(o>t.length&&(o=t.length-1),t[o-1].classList.remove("on"),!1):o>t.length?(r.hide(),!0):o===t.length?(t[o-1].classList.add("on"),r.hide()):void t[o-1].classList.add("on")}});return e.addEventListener("click",function(e){return r.show()},!1),r}),t("options",function(){var e=new Keypad(function(e){return e.dark=!0,e.name="qwer",e.hide="click",e.onstart=function(e){i("options-print-1").textContent=e[0],i("options-print-2").textContent=e[1],i("options-print-3").textContent=e[2]},e}),t={dark:i("theme-color-1"),light:i("theme-color-2")};Object.entries(t).forEach(function(t){var n=t[0],r=t[1];r.addEventListener("click",function(t){t.stopPropagation(),r.querySelector("input[name]").click(),e.dark("dark"===n)},!1)});var n={toggle:i("control-1"),show:i("control-2"),hide:i("control-3")};Object.entries(n).forEach(function(t){var n=t[0];t[1].addEventListener("click",function(t){t.stopPropagation();var r=document.querySelector('input[name="layout"][checked]').value;e[n](r)},!1)});var r={number:i("layout-1"),qwer:i("layout-2")};function i(e){return document.querySelector("#"+e)}Object.entries(r).forEach(function(t){var n=t[0],r=t[1];r.addEventListener("click",function(t){t.stopPropagation(),r.querySelector("input[name]").click(),e.hide("number"===n?"qwer":"number"),e.show(n)},!1)})}),t("wasd",function(){return new Keypad({name:"wasd",multiple:!1,reducer:{content:function(e){return e.style.maxWidth="240px",e},key:function(e,t){return""===t[1]&&(e.textContent="",e.style.height="0",e.style.padding="0"),e}}},{wasd:[[[""],["↑"],[""]],[["←"],["↓"],["→"]]]})}),t("plugins",function(){var e,t,n=new Keypad({name:"qwer",onsend:function(e){document.querySelector("#plugins-input").value=e},inject:!1});return n.use((e=document.createElement("style"),t=["kypd-flex-toolbar {","background-color: #f5f5f5;","height: 56px; width: 100%;","margin-bottom: 8px;","display: flex; align-items: center; justify-content: flex-end;","}","kypd-flex-toolbar .close {","background: white; color: #0077ff; margin: 0 12px; border-radius: 2px;","height: 44px; min-width: 64px; font-size: 14px; border: none;","display: flex;  flex: none; justify-content: center; align-items: center;","}","kypd-flex-toolbar .input {","background-color: white; border-radius: 2px;","font-size: 16px; color: #333; text-indent: .5em;","height: 44px; width: 100%; border: 0; padding: 0; margin-left: 12px;","}"].join(""),e.innerHTML=t,document.head.appendChild(e),function(){this.options.reducer.container=function(e){var t=document.createElement(this.prefix("elem","toolbar")),n=document.createElement("input"),r=document.createElement("button");return n.type="text",n.placeholder="Type Enter Key To Send.",n.readOnly=!0,n.classList.add("input"),this.input=n,r.textContent="Close",r.classList.add("close"),r.addEventListener(this.events.start,function(){this.hide()}.bind(this),!1),t.appendChild(n),t.appendChild(r),e.insertBefore(t,e.firstChild),e},this.options.reducer.key=function(e,t){var n=this;return"enter"===t[2]&&e.addEventListener(this.events.end,function(e){if("function"!=typeof n.options.onsend)return!0;n.options.onsend.call(t,n.input.value)},!1),e}}),"Demo Plugin"),n.inject(),n})});
