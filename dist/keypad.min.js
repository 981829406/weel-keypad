!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.Keypad=e()}(this,function(){"use strict";function t(t,e){void 0===e&&(e={});var r=e.insertAt;if(t&&"undefined"!=typeof document){var n=document.head||document.getElementsByTagName("head")[0],a=document.createElement("style");a.type="text/css","top"===r&&n.firstChild?n.insertBefore(a,n.firstChild):n.appendChild(a),a.styleSheet?a.styleSheet.cssText=t:a.appendChild(document.createTextNode(t))}}function e(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function r(t,e){return t(e={exports:{}},e.exports),e.exports}var n=r(function(t){var e=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=e)}),a=r(function(t){var e=t.exports={version:"2.5.3"};"number"==typeof __e&&(__e=e)}),i=(a.version,function(t,e,r){if(function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!")}(t),void 0===e)return t;switch(r){case 1:return function(r){return t.call(e,r)};case 2:return function(r,n){return t.call(e,r,n)};case 3:return function(r,n,a){return t.call(e,r,n,a)}}return function(){return t.apply(e,arguments)}}),o=function(t){return"object"==typeof t?null!==t:"function"==typeof t},d=function(t){if(!o(t))throw TypeError(t+" is not an object!");return t},p=function(t){try{return!!t()}catch(t){return!0}},s=!p(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}),u=n.document,l=o(u)&&o(u.createElement),c=function(t){return l?u.createElement(t):{}},f=!s&&!p(function(){return 7!=Object.defineProperty(c("div"),"a",{get:function(){return 7}}).a}),y=Object.defineProperty,k={f:s?Object.defineProperty:function(t,e,r){if(d(t),e=function(t,e){if(!o(t))return t;var r,n;if(e&&"function"==typeof(r=t.toString)&&!o(n=r.call(t)))return n;if("function"==typeof(r=t.valueOf)&&!o(n=r.call(t)))return n;if(!e&&"function"==typeof(r=t.toString)&&!o(n=r.call(t)))return n;throw TypeError("Can't convert object to primitive value")}(e,!0),d(r),f)try{return y(t,e,r)}catch(t){}if("get"in r||"set"in r)throw TypeError("Accessors not supported!");return"value"in r&&(t[e]=r.value),t}},h=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}},b=s?function(t,e,r){return k.f(t,e,h(1,r))}:function(t,e,r){return t[e]=r,t},v="prototype",m=function(t,e,r){var o,d,p,s=t&m.F,u=t&m.G,l=t&m.S,c=t&m.P,f=t&m.B,y=t&m.W,k=u?a:a[e]||(a[e]={}),h=k[v],x=u?n:l?n[e]:(n[e]||{})[v];u&&(r=e);for(o in r)(d=!s&&x&&void 0!==x[o])&&o in k||(p=d?x[o]:r[o],k[o]=u&&"function"!=typeof x[o]?r[o]:f&&d?i(p,n):y&&x[o]==p?function(t){var e=function(e,r,n){if(this instanceof t){switch(arguments.length){case 0:return new t;case 1:return new t(e);case 2:return new t(e,r)}return new t(e,r,n)}return t.apply(this,arguments)};return e[v]=t[v],e}(p):c&&"function"==typeof p?i(Function.call,p):p,c&&((k.virtual||(k.virtual={}))[o]=p,t&m.R&&h&&!h[o]&&b(h,o,p)))};m.F=1,m.G=2,m.S=4,m.P=8,m.B=16,m.W=32,m.U=64,m.R=128;var x=m;x(x.S+x.F*!s,"Object",{defineProperty:k.f});var w=a.Object,g=function(t,e,r){return w.defineProperty(t,e,r)},j=r(function(t){t.exports={default:g,__esModule:!0}});e(j);var O,_,S,M,A,E=e(r(function(t,e){e.__esModule=!0;var r,n=(r=j)&&r.__esModule?r:{default:r};e.default=function(t,e,r){return e in t?(0,n.default)(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}})),L=function(t){if(void 0==t)throw TypeError("Can't call method on  "+t);return t},T=function(t){return Object(L(t))},C={}.hasOwnProperty,P=function(t,e){return C.call(t,e)},z={}.toString,H=function(t){return z.call(t).slice(8,-1)},q=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==H(t)?t.split(""):Object(t)},V=function(t){return q(L(t))},I=Math.ceil,N=Math.floor,F=function(t){return isNaN(t=+t)?0:(t>0?N:I)(t)},B=Math.min,D=Math.max,R=Math.min,G="__core-js_shared__",Y=n[G]||(n[G]={}),K=function(t){return Y[t]||(Y[t]={})},W=0,U=Math.random(),$=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++W+U).toString(36))},Z=K("keys"),J=function(t){return Z[t]||(Z[t]=$(t))},Q=(O=!1,function(t,e,r){var n,a,i,o,d=V(t),p=(n=d.length)>0?B(F(n),9007199254740991):0,s=(i=p,(a=F(a=r))<0?D(a+i,0):R(a,i));if(O&&e!=e){for(;p>s;)if((o=d[s++])!=o)return!0}else for(;p>s;s++)if((O||s in d)&&d[s]===e)return O||s||0;return!O&&-1}),X=J("IE_PROTO"),tt="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(","),et=Object.keys||function(t){return function(t,e){var r,n=V(t),a=0,i=[];for(r in n)r!=X&&P(n,r)&&i.push(r);for(;e.length>a;)P(n,r=e[a++])&&(~Q(i,r)||i.push(r));return i}(t,tt)};_="keys",S=function(){return function(t){return et(T(t))}},M=(a.Object||{})[_]||Object[_],(A={})[_]=S(M),x(x.S+x.F*p(function(){M(1)}),"Object",A);var rt,nt=a.Object.keys,at=e(r(function(t){t.exports={default:nt,__esModule:!0}})),it={f:{}.propertyIsEnumerable},ot=it.f,dt=(rt=!0,function(t){for(var e,r=V(t),n=et(r),a=n.length,i=0,o=[];a>i;)ot.call(r,e=n[i++])&&o.push(rt?[e,r[e]]:r[e]);return o});x(x.S,"Object",{entries:function(t){return dt(t)}});var pt=a.Object.entries,st=e(r(function(t){t.exports={default:pt,__esModule:!0}})),ut=function(t,e){return{value:e,done:!!t}},lt={},ct=b,ft=s?Object.defineProperties:function(t,e){d(t);for(var r,n=et(e),a=n.length,i=0;a>i;)k.f(t,r=n[i++],e[r]);return t},yt=n.document,kt=yt&&yt.documentElement,ht=J("IE_PROTO"),bt=function(){},vt="prototype",mt=function(){var t,e=c("iframe"),r=tt.length;for(e.style.display="none",kt.appendChild(e),e.src="javascript:",(t=e.contentWindow.document).open(),t.write("<script>document.F=Object<\/script>"),t.close(),mt=t.F;r--;)delete mt[vt][tt[r]];return mt()},xt=Object.create||function(t,e){var r;return null!==t?(bt[vt]=d(t),r=new bt,bt[vt]=null,r[ht]=t):r=mt(),void 0===e?r:ft(r,e)},wt=r(function(t){var e=K("wks"),r=n.Symbol,a="function"==typeof r;(t.exports=function(t){return e[t]||(e[t]=a&&r[t]||(a?r:$)("Symbol."+t))}).store=e}),gt=k.f,jt=wt("toStringTag"),Ot=function(t,e,r){t&&!P(t=r?t:t.prototype,jt)&&gt(t,jt,{configurable:!0,value:e})},_t={};b(_t,wt("iterator"),function(){return this});var St=J("IE_PROTO"),Mt=Object.prototype,At=Object.getPrototypeOf||function(t){return t=T(t),P(t,St)?t[St]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?Mt:null},Et=wt("iterator"),Lt=!([].keys&&"next"in[].keys()),Tt="values",Ct=function(){return this},Pt=function(t,e,r,n,a,i,o){var d,p,s;p=e,s=n,(d=r).prototype=xt(_t,{next:h(1,s)}),Ot(d,p+" Iterator");var u,l,c,f=function(t){if(!Lt&&t in m)return m[t];switch(t){case"keys":case Tt:return function(){return new r(this,t)}}return function(){return new r(this,t)}},y=e+" Iterator",k=a==Tt,v=!1,m=t.prototype,w=m[Et]||m["@@iterator"]||a&&m[a],g=!Lt&&w||f(a),j=a?k?f("entries"):g:void 0,O="Array"==e&&m.entries||w;if(O&&(c=At(O.call(new t)))!==Object.prototype&&c.next&&Ot(c,y,!0),k&&w&&w.name!==Tt&&(v=!0,g=function(){return w.call(this)}),o&&(Lt||v||!m[Et])&&b(m,Et,g),lt[e]=g,lt[y]=Ct,a)if(u={values:k?g:f(Tt),keys:i?g:f("keys"),entries:j},o)for(l in u)l in m||ct(m,l,u[l]);else x(x.P+x.F*(Lt||v),e,u);return u};Pt(Array,"Array",function(t,e){this._t=V(t),this._i=0,this._k=e},function(){var t=this._t,e=this._k,r=this._i++;return!t||r>=t.length?(this._t=void 0,ut(1)):ut(0,"keys"==e?r:"values"==e?t[r]:[r,t[r]])},"values");lt.Arguments=lt.Array;for(var zt=wt("toStringTag"),Ht="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","),qt=0;qt<Ht.length;qt++){var Vt=Ht[qt],It=n[Vt],Nt=It&&It.prototype;Nt&&!Nt[zt]&&b(Nt,zt,Vt),lt[Vt]=lt.Array}var Ft,Bt=(Ft=!0,function(t,e){var r,n,a=String(L(t)),i=F(e),o=a.length;return i<0||i>=o?Ft?"":void 0:(r=a.charCodeAt(i))<55296||r>56319||i+1===o||(n=a.charCodeAt(i+1))<56320||n>57343?Ft?a.charAt(i):r:Ft?a.slice(i,i+2):n-56320+(r-55296<<10)+65536});Pt(String,"String",function(t){this._t=String(t),this._i=0},function(){var t,e=this._t,r=this._i;return r>=e.length?{value:void 0,done:!0}:(t=Bt(e,r),this._i+=t.length,{value:t,done:!1})});var Dt=wt("toStringTag"),Rt="Arguments"==H(function(){return arguments}()),Gt=function(t){var e,r,n;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(r=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),Dt))?r:Rt?H(e):"Object"==(n=H(e))&&"function"==typeof e.callee?"Arguments":n},Yt=wt("iterator"),Kt=a.getIteratorMethod=function(t){if(void 0!=t)return t[Yt]||t["@@iterator"]||lt[Gt(t)]},Wt=a.getIterator=function(t){var e=Kt(t);if("function"!=typeof e)throw TypeError(t+" is not iterable!");return d(e.call(t))},Ut=r(function(t){t.exports={default:Wt,__esModule:!0}}),$t=e(Ut),Zt=wt("iterator"),Jt=a.isIterable=function(t){var e=Object(t);return void 0!==e[Zt]||"@@iterator"in e||lt.hasOwnProperty(Gt(e))},Qt=r(function(t){t.exports={default:Jt,__esModule:!0}});e(Qt);var Xt=e(r(function(t,e){e.__esModule=!0;var r=a(Qt),n=a(Ut);function a(t){return t&&t.__esModule?t:{default:t}}e.default=function(){return function(t,e){if(Array.isArray(t))return t;if((0,r.default)(Object(t)))return function(t,e){var r=[],a=!0,i=!1,o=void 0;try{for(var d,p=(0,n.default)(t);!(a=(d=p.next()).done)&&(r.push(d.value),!e||r.length!==e);a=!0);}catch(t){i=!0,o=t}finally{try{!a&&p.return&&p.return()}finally{if(i)throw o}}return r}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}()})),te={f:Object.getOwnPropertySymbols},ee=Object.assign,re=!ee||p(function(){var t={},e={},r=Symbol(),n="abcdefghijklmnopqrst";return t[r]=7,n.split("").forEach(function(t){e[t]=t}),7!=ee({},t)[r]||Object.keys(ee({},e)).join("")!=n})?function(t,e){for(var r=T(t),n=arguments.length,a=1,i=te.f,o=it.f;n>a;)for(var d,p=q(arguments[a++]),s=i?et(p).concat(i(p)):et(p),u=s.length,l=0;u>l;)o.call(p,d=s[l++])&&(r[d]=p[d]);return r}:ee;x(x.S+x.F,"Object",{assign:re});var ne=a.Object.assign,ae=e(r(function(t){t.exports={default:ne,__esModule:!0}})),ie=e(r(function(t,e){e.__esModule=!0,e.default=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}})),oe=e(r(function(t,e){e.__esModule=!0;var r,n=(r=j)&&r.__esModule?r:{default:r};e.default=function(){function t(t,e){for(var r=0;r<e.length;r++){var a=e[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),(0,n.default)(t,a.key,a)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}()})),de={el:null,input:null,inputWhen:"end",flex:!0,mobile:!0,onstart:null,onend:null,name:"number",multiple:!0,show:!1,hide:!1,render:null,reducer:{wrap:null,container:null,content:null,row:null,key:null},tag:null,theme:"default",dark:!1,body:document.body,inject:!0},pe=Object.freeze({number:[[[7],[8],[9]],[[4],[5],[6]],[[1],[2],[3]],[["En",null,"@@qwer"],["."],[0],["svg[backspace]",null,"backspace"]]],qwer:[[["q"],["w"],["e"],["r"],["t"],["y"],["u"],["i"],["o"],["p"]],[["a"],["s"],["d"],["f"],["g"],["h"],["j"],["k"],["l"]],[["svg[upper]",null,"upper"],["z"],["x"],["c"],["v"],["b"],["n"],["m"],["svg[backspace]",null,"backspace"]],[["123",null,"@@number"],["Space"," "],[","],["."],["svg[done]",null,"enter"]]]}),se={backspace:"backspace",upper:"upper",ctrl:"ctrl",alt:"alt",shift:"shift"},ue=Object.freeze({upper:'<svg version="1.1" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M6 18v-2.016h12v2.016h-12zM12 8.391l-4.594 4.594-1.406-1.406 6-6 6 6-1.406 1.406z"></path></svg>',backspace:'<svg version="1.1" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M18.984 15.609l-3.563-3.609 3.563-3.609-1.406-1.406-3.563 3.609-3.609-3.609-1.406 1.406 3.609 3.609-3.609 3.609 1.406 1.406 3.609-3.609 3.563 3.609zM21.984 3c1.078 0 2.016 0.938 2.016 2.016v13.969c0 1.078-0.938 2.016-2.016 2.016h-15c-0.703 0-1.219-0.375-1.594-0.891l-5.391-8.109 5.391-8.109c0.375-0.516 0.891-0.891 1.594-0.891h15z"></path></svg>',clear:'<svg version="1.1" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M19,4H15.5L14.5,3H9.5L8.5,4H5V6H19M6,19A2,2 0 0,0 8,21H16A2,2 0 0,0 18,19V7H6V19Z" /></svg>',add:'<svg version="1.1" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M19,13H13V19H11V13H5V11H11V5H13V11H19V13Z" /></svg>',done:'<svg version="1.1" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M9 16.219l10.594-10.641 1.406 1.406-12 12-5.578-5.578 1.359-1.406z"></path></svg>'}),le=function(){function t(){ie(this,t);for(var e=arguments.length,r=Array(e),n=0;n<e;n++)r[n]=arguments[n];var a=r[0],i=void 0===a?{}:a,o=r[1],d=void 0===o?{}:o,p=r[2],s=void 0===p?{}:p;"function"==typeof i&&(i=i(ae({},de))),"function"==typeof d&&(d=d(ae({},pe))),"function"==typeof s&&(s=s(ae({},se))),this.options=ae({},de,i),this.layouts=ae({},pe,d),this.maps=ae({},se,s),t.istype(t.isMobile,"undefined")||(this.options.mobile=t.isMobile);var u=this.options,l=u.el,c=u.input,f=u.show,y=u.hide,k=u.body,h=u.inject;if(k||console.error('Option "body" is '+k+", maybe you need to wait the body loaded by 'window.onload'."),this.wrap=null,this.parent=k||null,this.input=c||null,this.keypads={},this.hightlight=null,this.locked=null,t.istype(t.plugins,"array")){var b=!0,v=!1,m=void 0;try{for(var x,w=$t(st(t.plugins));!(b=(x=w.next()).done);b=!0){var g=x.value,j=Xt(g,2),O=j[0],_=j[1];this.use(_,O)}}catch(t){v=!0,m=t}finally{try{!b&&w.return&&w.return()}finally{if(v)throw m}}}l&&this.listen(),h&&k&&this.inject(),f&&this.show(),y&&this.bodyHide()}return oe(t,[{key:"use",value:function(t,e){if("function"!=typeof t)return console.warn("["+e+"] in Keypad.plugins is not a function.");t.call(this)}},{key:"prefix",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"elem",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return{elem:"kypd"+(this.options.flex?"-flex":"")+"-"+(e||"span"),attr:"data-kypd-"+(e||"blank")}[t]}},{key:"createElement",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.options.tag;if(!e)return document.createElement(this.prefix("elem",t));var r=document.createElement(e);return r.setAttribute(this.prefix("attr","tag"),t),r}},{key:"reducer",value:function(e){var r=this,n=this.options.reducer;return t.istype(n,"object")?"function"==typeof n[e]?function(t,a){return n[e].call(r,t,a)||document.createDocumentFragment()}:function(t){return t}:console.error('"reducer" must to be a plain object.')}},{key:"generator",value:function(t){var e=this,r=this.options.multiple,n=this.createElement("content"),a=this.createElement("key-row"),i=this.createElement("key"),o=document.createElement("span"),d=this.reducer("row"),p=this.reducer("key"),s=!0,u=!1,l=void 0;try{for(var c,f=$t(t);!(s=(c=f.next()).done);s=!0){var y=c.value,k=a.cloneNode(),h=function(t,n,a){var d=i.cloneNode(),s=o.cloneNode();if(/svg\[.+\]/.test(t)){var u=t.match(/svg\[(.+)\]/)[1],l=ue[u];if(!l)return console.wran('No image is named "'+u+'"'),"break";var c=document.createElementNS("http://www.w3.org/1999/xhtml","div");c.innerHTML=l,s.appendChild(c.querySelector("svg"))}else if(/(<\/svg>[\s]?)$/.test(t)){var f=document.createElementNS("http://www.w3.org/1999/xhtml","div");f.innerHTML=t,s.appendChild(f.querySelector("svg"))}else s.textContent=t;if((n||!n&&!a)&&(n=n||t,d.setAttribute(e.prefix("attr","key-value"),n||t)),a){if(!r&&/^@@/.test(a+""))return"continue";d.setAttribute(e.prefix("attr","key-code"),a)}d.setAttribute(e.prefix("attr","status"),""),d.addEventListener(e.events.start,function(r){return e.handleKey(r,"start",[t,n,a])},!1),d.addEventListener(e.events.end,function(r){return e.handleKey(r,"end",[t,n,a])},!1),d.appendChild(s),k.appendChild(p(d,[t,n,a])),_=n},b=!0,v=!1,m=void 0;try{t:for(var x,w=$t(y);!(b=(x=w.next()).done);b=!0){var g=x.value,j=Xt(g,3),O=j[0],_=j[1],S=j[2];switch(h(O,_,S)){case"break":break t;case"continue":continue}}}catch(t){v=!0,m=t}finally{try{!b&&w.return&&w.return()}finally{if(v)throw m}}n.appendChild(d(k,y))}}catch(t){u=!0,l=t}finally{try{!s&&f.return&&f.return()}finally{if(u)throw l}}return n}},{key:"handleKey",value:function(t,e,r){var n=Xt(r,3),a=n[0],i=n[1],o=n[2];t.preventDefault(),t.stopPropagation();var d=t.currentTarget,p=this.prefix("attr","status");if(("active"!==d.getAttribute(p)&&("start"===e&&d.setAttribute(p,"start"),"end"===e&&d.setAttribute(p,"")),o||this.locked!==this.maps.upper||(a=a&&(""+a).toUpperCase(),i=i&&(""+i).toUpperCase()),this.keyMap(e,i,o),"function"==typeof this.options["on"+e])&&this.options["on"+e].call(d,[a,i,o],t))return!0;e===this.options.inputWhen&&this.keyInput(i,o)}},{key:"keyMap",value:function(t,e,r){var n=this.options.name,a=this.keypads[n],i=this.prefix("attr","hightlight"),o=a.getAttribute("hightlight")||"";if(o=o?o+"+"+(r||e):r||e,"start"===t&&(this.hightlight=o,a.setAttribute(i,o)),"end"===t&&a.setAttribute(i,""),"start"===t&&r===this.maps.upper){var d=this.prefix("attr","locked");this.locked?(this.locked=null,a.removeAttribute(d)):(this.locked=r,a.setAttribute(d,r))}if("end"===t&&/^@@/.test(r)){var p=r.match(/^@@(.*)/)[1];this.hide();var s=at(this.layouts);if("string"==typeof p&&!p.length){var u=s.indexOf(n)+1;this.options.name=s[u===s.length?0:u]}~s.indexOf(p)&&(this.options.name=p),this.show()}}},{key:"keyInput",value:function(e,r){if(!this.input||0!==e&&!e&&r!==this.maps.backspace)return!0;var n=this.input.value,a=this.input.selectionStart,i=this.input.selectionEnd;i-a&&(n=n.slice(0,a)+n.slice(i)),!n||r!==this.maps.backspace||i-a||(n=n.slice(0,a-1)+n.slice(a),a--);var o=t.istype(e);"null"!==o&&"undefined"!==o&&(n=n.slice(0,a)+e+n.slice(a),a++),this.input.value=n,this.input.selectionEnd=a}},{key:"render",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.layouts,e=this.options,r=e.render,n=e.theme,a=e.dark;if("function"==typeof r)return r.call(this);var i=this.createElement("wrap"),o=this.createElement("container");i.setAttribute(this.prefix("attr","status"),"none");var d=this.reducer("content"),p=this.reducer("container"),s=!0,u=!1,l=void 0;try{for(var c,f=$t(st(t));!(s=(c=f.next()).done);s=!0){var y=c.value,k=Xt(y,2),h=k[0],b=k[1],v=this.generator(b);v.setAttribute(this.prefix("attr","name"),h),v.setAttribute(this.prefix("attr","status"),"ready"),this.keypads[h]=v,o.appendChild(d(v,[h,b]))}}catch(t){u=!0,l=t}finally{try{!s&&f.return&&f.return()}finally{if(u)throw l}}return i.appendChild(p(o,t)),i.setAttribute(this.prefix("attr","status"),"ready"),i.setAttribute(this.prefix("attr","theme"),n),i.setAttribute(this.prefix("attr","dark"),a),i.addEventListener(this.bodyEvent,function(t){return t.stopPropagation()||t.preventDefault()},!1),this.wrap=this.reducer("wrap")(i),this.wrap}},{key:"inject",value:function(t){var e=this.options,r=e.body,n=e.name,a=e.multiple,i=t||r;i.appendChild(this.render(a?this.layouts:E({},n,this.layouts[n]))),this.parent=i}},{key:"remove",value:function(){return this.wrap&&this.parent?!!this.parent.removeChild(this.wrap):!!console.log('Has not found "Keypad" that needed to be removed.')}},{key:"listen",value:function(){var e=this,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.options.el;if(!r)return!1;var n=[];switch(t.istype(r)){case"string":n=document.querySelectorAll(r);break;case"nodelist":n=r;break;default:if(!/html\w*element/.test(t.istype(r)))return!1;n=[r]}if(!n||!n.length)return!1;Array.prototype.forEach.call(n,function(t){t.addEventListener("focus",function(t){e.input=t.currentTarget,e.show()},!1),t.addEventListener("blur",function(t){e.input=null,e.hide()},!1)})}},{key:"bodyHide",value:function(){var t=this;document.body.addEventListener(this.bodyEvent,function(e){t.hide()},!1),this.wrap.addEventListener(this.bodyEvent,function(t){return t.stopPropagation()||t.preventDefault()},!1)}},{key:"show",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.options.name;if(!this.layouts[t])return console.error('Has not a keypad layout named "'+t+'"'),!1;this.wrap.setAttribute(this.prefix("attr","status"),"active"),this.keypads[t].setAttribute(this.prefix("attr","status"),"active")}},{key:"hide",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.options.name;if(!this.layouts[t])return console.error('Has not a keypad layout named "'+t+'"'),!1;this.wrap.setAttribute(this.prefix("attr","status"),"ready"),this.keypads[t].setAttribute(this.prefix("attr","status"),"ready")}},{key:"toggle",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.options.name;"active"===this.wrap.getAttribute(this.prefix("attr","status"))?this.hide(t):this.show(t)}},{key:"dark",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.wrap.setAttribute(this.prefix("attr","dark"),!!t)}},{key:"events",get:function(){var t=this.options.mobile;return{start:t?"touchstart":"mousedown",end:t?"touchend":"mouseup",move:t?"touchmove":"mousemove"}}},{key:"bodyEvent",get:function(){var t=this.options.hide;return"string"==typeof t?t:this.events.start}}],[{key:"istype",value:function(t,e){var r=Object.prototype.toString.call(t).replace(/^\[object (.+)\]$/,"$1").toLowerCase();return e?e===r:r}}]),t}();t("kypd-flex-wrap,kypd-wrap{width:auto;font-family:Arial,Helvetica,sans-serif;left:0;bottom:0;right:0;z-index:1;position:fixed;display:block;-webkit-transition:opacity .35s,visibility .35s,-webkit-transform .25s cubic-bezier(.215,.61,.355,1);transition:opacity .35s,visibility .35s,-webkit-transform .25s cubic-bezier(.215,.61,.355,1);transition:opacity .35s,visibility .35s,transform .25s cubic-bezier(.215,.61,.355,1);transition:opacity .35s,visibility .35s,transform .25s cubic-bezier(.215,.61,.355,1),-webkit-transform .25s cubic-bezier(.215,.61,.355,1)}kypd-flex-wrap[data-kypd-status=none],kypd-wrap[data-kypd-status=none]{display:none}kypd-flex-wrap[data-kypd-status=ready],kypd-wrap[data-kypd-status=ready]{opacity:0;visibility:hidden;-webkit-transform:translateY(100%);transform:translateY(100%)}kypd-flex-wrap[data-kypd-status=active],kypd-wrap[data-kypd-status=active]{opacity:1;visibility:visible;-webkit-transform:translateY(0);transform:translateY(0)}kypd-container,kypd-flex-container{width:inherit}kypd-content,kypd-flex-content{margin:0 auto;left:0;bottom:0;right:0;-webkit-transition:-webkit-transform .25s cubic-bezier(.215,.61,.355,1);transition:-webkit-transform .25s cubic-bezier(.215,.61,.355,1);transition:transform .25s cubic-bezier(.215,.61,.355,1);transition:transform .25s cubic-bezier(.215,.61,.355,1),-webkit-transform .25s cubic-bezier(.215,.61,.355,1)}kypd-content[data-kypd-status=ready],kypd-flex-content[data-kypd-status=ready]{opacity:0;-webkit-transform:translateY(100%);transform:translateY(100%);position:absolute}kypd-content[data-kypd-status=active],kypd-flex-content[data-kypd-status=active]{opacity:1;-webkit-transform:translateY(0);transform:translateY(0);position:relative}kypd-content[data-kypd-locked=upper] [data-kypd-key-value],kypd-flex-content[data-kypd-locked=upper] [data-kypd-key-value]{text-transform:uppercase}kypd-content[data-kypd-name=number],kypd-flex-content[data-kypd-name=number]{max-width:240px}kypd-content[data-kypd-name=qwer],kypd-flex-content[data-kypd-name=qwer]{max-width:560px}kypd-flex-key svg,kypd-key svg{fill:currentColor}kypd-flex-container{-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center}kypd-flex-container,kypd-flex-content{-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;-webkit-box-align:center;-ms-flex-align:center;align-items:center;display:-webkit-box;display:-ms-flexbox;display:flex}kypd-flex-content{width:100%}kypd-flex-key-row{width:100%;-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between}kypd-flex-key,kypd-flex-key-row,kypd-flex-key>span{-webkit-box-align:center;-ms-flex-align:center;align-items:center;display:-webkit-box;display:-ms-flexbox;display:flex}kypd-flex-key,kypd-flex-key>span{-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-flex:1;-ms-flex:auto;flex:auto}");t('kypd-flex-wrap[data-kypd-theme=default],kypd-wrap[data-kypd-theme=default]{background-color:#fff}kypd-flex-wrap[data-kypd-theme=default] kypd-container,kypd-flex-wrap[data-kypd-theme=default] kypd-flex-container,kypd-wrap[data-kypd-theme=default] kypd-container,kypd-wrap[data-kypd-theme=default] kypd-flex-container{background-color:inherit;border-top:1px solid #f5f5f5;padding:8px 4px}kypd-flex-wrap[data-kypd-theme=default] kypd-content[data-kypd-locked=upper] [data-kypd-key-code=upper]>span,kypd-flex-wrap[data-kypd-theme=default] kypd-flex-content[data-kypd-locked=upper] [data-kypd-key-code=upper]>span,kypd-wrap[data-kypd-theme=default] kypd-content[data-kypd-locked=upper] [data-kypd-key-code=upper]>span,kypd-wrap[data-kypd-theme=default] kypd-flex-content[data-kypd-locked=upper] [data-kypd-key-code=upper]>span{border-radius:2px;background-color:#07f;color:#fff}kypd-flex-wrap[data-kypd-theme=default] kypd-flex-key,kypd-flex-wrap[data-kypd-theme=default] kypd-key,kypd-wrap[data-kypd-theme=default] kypd-flex-key,kypd-wrap[data-kypd-theme=default] kypd-key{cursor:default;padding:4px 2px}kypd-flex-wrap[data-kypd-theme=default] kypd-flex-key>span,kypd-flex-wrap[data-kypd-theme=default] kypd-key>span,kypd-wrap[data-kypd-theme=default] kypd-flex-key>span,kypd-wrap[data-kypd-theme=default] kypd-key>span{border-radius:2px;-webkit-box-shadow:0 1px 2px rgba(73,158,255,.431);box-shadow:0 1px 2px rgba(73,158,255,.431);height:44px;font-size:16px;display:-webkit-box;display:-ms-flexbox;display:flex;background-color:#fff;color:#07f;-webkit-transition:background-color .25s cubic-bezier(.075,.82,.165,1),opacity .45s cubic-bezier(.215,.61,.355,1),color .25s cubic-bezier(.175,.885,.32,1.275);transition:background-color .25s cubic-bezier(.075,.82,.165,1),opacity .45s cubic-bezier(.215,.61,.355,1),color .25s cubic-bezier(.175,.885,.32,1.275)}kypd-flex-wrap[data-kypd-theme=default] kypd-flex-key[data-kypd-status=start]>span,kypd-flex-wrap[data-kypd-theme=default] kypd-key[data-kypd-status=start]>span,kypd-wrap[data-kypd-theme=default] kypd-flex-key[data-kypd-status=start]>span,kypd-wrap[data-kypd-theme=default] kypd-key[data-kypd-status=start]>span{background-color:#07f;color:#fff;opacity:.9}kypd-flex-wrap[data-kypd-theme=default] kypd-flex-key[data-kypd-key-code=enter]>span,kypd-flex-wrap[data-kypd-theme=default] kypd-key[data-kypd-key-code=enter]>span,kypd-wrap[data-kypd-theme=default] kypd-flex-key[data-kypd-key-code=enter]>span,kypd-wrap[data-kypd-theme=default] kypd-key[data-kypd-key-code=enter]>span{border-radius:8px;background-color:#07f;color:#fff}kypd-flex-wrap[data-kypd-theme=default] kypd-flex-content[data-kypd-name=number] kypd-flex-key{width:0}kypd-flex-wrap[data-kypd-theme=default] kypd-flex-content[data-kypd-name=number] kypd-flex-key[data-kypd-key-value="0"]{-webkit-box-flex:2;-ms-flex-positive:2;flex-grow:2}kypd-flex-wrap[data-kypd-theme=default] kypd-flex-content[data-kypd-name=qwer] kypd-flex-key-row:nth-child(2):after,kypd-flex-wrap[data-kypd-theme=default] kypd-flex-content[data-kypd-name=qwer] kypd-flex-key-row:nth-child(2):before{content:"";margin-left:-6px;margin-right:-6px;-webkit-box-flex:1;-ms-flex:1 1 auto;flex:1 1 auto;display:-webkit-box;display:-ms-flexbox;display:flex}kypd-flex-wrap[data-kypd-theme=default] kypd-flex-content[data-kypd-name=qwer] kypd-flex-key{width:0}kypd-flex-wrap[data-kypd-theme=default] kypd-flex-content[data-kypd-name=qwer] kypd-flex-key[data-kypd-key-value=" "]{-webkit-box-flex:6;-ms-flex-positive:6;flex-grow:6}kypd-flex-wrap[data-kypd-theme=default] kypd-flex-content[data-kypd-name=qwer] kypd-flex-key[data-kypd-key-code="@@number"],kypd-flex-wrap[data-kypd-theme=default] kypd-flex-content[data-kypd-name=qwer] kypd-flex-key[data-kypd-key-code=enter]{-webkit-box-flex:2;-ms-flex-positive:2;flex-grow:2}');return t("kypd-flex-wrap[data-kypd-theme=default][data-kypd-dark=true],kypd-wrap[data-kypd-theme=default][data-kypd-dark=true]{background-color:#1b1d20}kypd-flex-wrap[data-kypd-theme=default][data-kypd-dark=true] kypd-container,kypd-flex-wrap[data-kypd-theme=default][data-kypd-dark=true] kypd-flex-container,kypd-wrap[data-kypd-theme=default][data-kypd-dark=true] kypd-container,kypd-wrap[data-kypd-theme=default][data-kypd-dark=true] kypd-flex-container{border-top:1px solid #111417}kypd-flex-wrap[data-kypd-theme=default][data-kypd-dark=true] kypd-flex-key>span,kypd-flex-wrap[data-kypd-theme=default][data-kypd-dark=true] kypd-key>span,kypd-wrap[data-kypd-theme=default][data-kypd-dark=true] kypd-flex-key>span,kypd-wrap[data-kypd-theme=default][data-kypd-dark=true] kypd-key>span{background-color:#1b1d20;-webkit-box-shadow:0 1px 2px rgba(63,84,107,.431);box-shadow:0 1px 2px rgba(63,84,107,.431)}kypd-flex-wrap[data-kypd-theme=default][data-kypd-dark=true] kypd-flex-key[data-kypd-key-code=enter]>span,kypd-flex-wrap[data-kypd-theme=default][data-kypd-dark=true] kypd-flex-key[data-kypd-status=start]>span,kypd-flex-wrap[data-kypd-theme=default][data-kypd-dark=true] kypd-key[data-kypd-key-code=enter]>span,kypd-flex-wrap[data-kypd-theme=default][data-kypd-dark=true] kypd-key[data-kypd-status=start]>span,kypd-wrap[data-kypd-theme=default][data-kypd-dark=true] kypd-flex-key[data-kypd-key-code=enter]>span,kypd-wrap[data-kypd-theme=default][data-kypd-dark=true] kypd-flex-key[data-kypd-status=start]>span,kypd-wrap[data-kypd-theme=default][data-kypd-dark=true] kypd-key[data-kypd-key-code=enter]>span,kypd-wrap[data-kypd-theme=default][data-kypd-dark=true] kypd-key[data-kypd-status=start]>span{background-color:#07f;color:#1b1d20}"),le});
