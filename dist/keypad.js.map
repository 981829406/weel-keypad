{"version":3,"file":"keypad.js","sources":["../src/scripts/polyfills.js","../src/configs/options.js","../src/configs/layouts.js","../src/configs/maps.js","../src/images/index.js","../src/scripts/Keypad.js"],"sourcesContent":["/* eslint-disable */\r\n\r\nif (!Object.entries) Object.entries = function( obj ){\r\n  var ownProps = Object.keys( obj ),\r\n  i = ownProps.length,\r\n  resArray = new Array(i); // preallocate the Array\r\n  while (i--)\r\n  resArray[i] = [ownProps[i], obj[ownProps[i]]];\r\n  \r\n  return resArray;\r\n};\r\n\r\nif (!Object.keys) Object.keys = function(o) {\r\n  if (o !== Object(o))\r\n    throw new TypeError('Object.keys called on a non-object');\r\n  var k=[],p;\r\n  for (p in o) if (Object.prototype.hasOwnProperty.call(o,p)) k.push(p);\r\n  return k;\r\n};\r\n\r\nif (typeof Object.assign != 'function') {\r\n  // Must be writable: true, enumerable: false, configurable: true\r\n  Object.defineProperty(Object, \"assign\", {\r\n    value: function assign(target, varArgs) { // .length of function is 2\r\n      'use strict';\r\n      if (target == null) { // TypeError if undefined or null\r\n        throw new TypeError('Cannot convert undefined or null to object');\r\n      }\r\n\r\n      var to = Object(target);\r\n\r\n      for (var index = 1; index < arguments.length; index++) {\r\n        var nextSource = arguments[index];\r\n\r\n        if (nextSource != null) { // Skip over if undefined or null\r\n          for (var nextKey in nextSource) {\r\n            // Avoid bugs when hasOwnProperty is shadowed\r\n            if (Object.prototype.hasOwnProperty.call(nextSource, nextKey)) {\r\n              to[nextKey] = nextSource[nextKey];\r\n            }\r\n          }\r\n        }\r\n      }\r\n      return to;\r\n    },\r\n    writable: true,\r\n    configurable: true\r\n  });\r\n}\r\n\r\n// https://tc39.github.io/ecma262/#sec-array.prototype.includes\r\nif (!Array.prototype.includes) {\r\n  Object.defineProperty(Array.prototype, 'includes', {\r\n    value: function(searchElement, fromIndex) {\r\n\r\n      // 1. Let O be ? ToObject(this value).\r\n      if (this == null) {\r\n        throw new TypeError('\"this\" is null or not defined');\r\n      }\r\n\r\n      var o = Object(this);\r\n\r\n      // 2. Let len be ? ToLength(? Get(O, \"length\")).\r\n      var len = o.length >>> 0;\r\n\r\n      // 3. If len is 0, return false.\r\n      if (len === 0) {\r\n        return false;\r\n      }\r\n\r\n      // 4. Let n be ? ToInteger(fromIndex).\r\n      //    (If fromIndex is undefined, this step produces the value 0.)\r\n      var n = fromIndex | 0;\r\n\r\n      // 5. If n â‰¥ 0, then\r\n      //  a. Let k be n.\r\n      // 6. Else n < 0,\r\n      //  a. Let k be len + n.\r\n      //  b. If k < 0, let k be 0.\r\n      var k = Math.max(n >= 0 ? n : len - Math.abs(n), 0);\r\n\r\n      // 7. Repeat, while k < len\r\n      while (k < len) {\r\n        // a. Let elementK be the result of ? Get(O, ! ToString(k)).\r\n        // b. If SameValueZero(searchElement, elementK) is true, return true.\r\n        // c. Increase k by 1.\r\n        // NOTE: === provides the correct \"SameValueZero\" comparison needed here.\r\n        if (o[k] === searchElement) {\r\n          return true;\r\n        }\r\n        k++;\r\n      }\r\n\r\n      // 8. Return false\r\n      return false;\r\n    }\r\n  });\r\n}","export default {\r\n  el: null, // listened input element\r\n  input: null, // the input element that need to set value\r\n  inputWhen: 'end', // the time to set input's value, 'start' or 'end'\r\n\r\n  flex: true, // use flex layout\r\n  mobile: true, // choose to use \"touch\" or \"mouse\" event by boolean\r\n\r\n  onstart: null, // touchstart|keydown callback\r\n  onend: null, // touchend|keyup callback,\r\n\r\n  name: 'number', // default keypad layout name\r\n  multiple: true, // render all keypad layouts\r\n  show: false, // show keypad after injected\r\n  // hide keypad when 'body' is clicked,\r\n  // support event name, default 'click'\r\n  hide: false,\r\n\r\n  render: null, // a callback to replace Keypad's render method\r\n  reducer: { // nodes's hook\r\n    wrap: null,\r\n    container: null,\r\n    content: null,\r\n    row: null,\r\n    key: null\r\n  },\r\n\r\n  tag: null, // custom tag name\r\n  theme: 'default', // theme name\r\n  dark: false, // dark theme mode\r\n\r\n  // the wrap element to be injected keypad,\r\n  // support callback to repleace default\r\n  body: document.body\r\n}\r\n","export const number = [\r\n  [[7], [8], [9]],\r\n  [[4], [5], [6]],\r\n  [[1], [2], [3]],\r\n  [['En', null, '@@qwer'], ['.'], [0], ['svg[backspace]', null, 'backspace']]\r\n]\r\n\r\nexport const qwer = [\r\n  [['q'], ['w'], ['e'], ['r'], ['t'], ['y'], ['u'], ['i'], ['o'], ['p']],\r\n  [['a'], ['s'], ['d'], ['f'], ['g'], ['h'], ['j'], ['k'], ['l']],\r\n  [['svg[upper]', null, 'upper'], ['z'], ['x'], ['c'], ['v'], ['b'], ['n'], ['m'], ['svg[backspace]', null, 'backspace']],\r\n  [['123', null, '@@number'], ['Space', ' '], [','], ['.'], ['svg[done]', null, 'enter']]\r\n]\r\n","export default {\r\n  backspace: 'backspace',\r\n  upper: 'upper',\r\n  ctrl: 'ctrl',\r\n  alt: 'alt',\r\n  shift: 'shift'\r\n}\r\n","export const upper = `<svg version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><path d=\"M6 18v-2.016h12v2.016h-12zM12 8.391l-4.594 4.594-1.406-1.406 6-6 6 6-1.406 1.406z\"></path></svg>`\r\n\r\nexport const backspace = `<svg version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><path d=\"M18.984 15.609l-3.563-3.609 3.563-3.609-1.406-1.406-3.563 3.609-3.609-3.609-1.406 1.406 3.609 3.609-3.609 3.609 1.406 1.406 3.609-3.609 3.563 3.609zM21.984 3c1.078 0 2.016 0.938 2.016 2.016v13.969c0 1.078-0.938 2.016-2.016 2.016h-15c-0.703 0-1.219-0.375-1.594-0.891l-5.391-8.109 5.391-8.109c0.375-0.516 0.891-0.891 1.594-0.891h15z\"></path></svg>`\r\n\r\nexport const clear = `<svg version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><path d=\"M19,4H15.5L14.5,3H9.5L8.5,4H5V6H19M6,19A2,2 0 0,0 8,21H16A2,2 0 0,0 18,19V7H6V19Z\" /></svg>`\r\n\r\nexport const add = `<svg version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><path d=\"M19,13H13V19H11V13H5V11H11V5H13V11H19V13Z\" /></svg>`\r\n\r\nexport const done = `<svg version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><path d=\"M9 16.219l10.594-10.641 1.406 1.406-12 12-5.578-5.578 1.359-1.406z\"></path></svg>`\r\n","import defaultOptions from '../configs/options'\r\nimport * as defaultLayouts from '../configs/layouts'\r\nimport defaultMaps from '../configs/maps'\r\nimport * as images from '../images'\r\n\r\n/**\r\n * Keypad class\r\n *\r\n * @param {Object} options user options\r\n * @param {Object} layouts user layouts\r\n * @param {Object} maps user maps\r\n */\r\nexport default class Keypad {\r\n  // constructor (options = {}, layouts = {}, maps = {}) {\r\n  constructor (...configs) {\r\n    let [options = {}, layouts = {}, maps = {}] = configs\r\n\r\n    if (typeof options === 'function') options = options(Object.assign({}, defaultOptions))\r\n    if (typeof layouts === 'function') layouts = layouts(Object.assign({}, defaultLayouts))\r\n    if (typeof maps === 'function') maps = maps(Object.assign({}, defaultMaps))\r\n\r\n    options.mobile = Keypad.isMobile\r\n\r\n    this.options = Object.assign({}, defaultOptions, options)\r\n    this.layouts = Object.assign({}, defaultLayouts, layouts)\r\n    this.maps = Object.assign({}, defaultMaps, maps)\r\n\r\n    const { el, input, show, hide, body } = this.options\r\n\r\n    this.input = input || null\r\n    this.wrap = null\r\n    this.parent = body || null\r\n\r\n    this.keypads = {}\r\n    this.hightlight = null\r\n    this.locked = null\r\n\r\n    if (el) this.listen()\r\n    if (body) this.inject()\r\n    if (show) this.show()\r\n    if (hide) this.bodyHide()\r\n  }\r\n\r\n  get events () {\r\n    const { mobile } = this.options\r\n\r\n    return {\r\n      start: mobile ? 'touchstart' : 'mousedown',\r\n      end: mobile ? 'touchend' : 'mouseup',\r\n      move: mobile ? 'touchmove' : 'mousemove'\r\n    }\r\n  }\r\n\r\n  prefix (type = 'elem', name = '') {\r\n    const { flex } = this.options\r\n\r\n    return {\r\n      elem: `kypd${flex ? '-flex' : ''}-${name || 'span'}`,\r\n      attr: `data-kypd-${name || 'blank'}`\r\n    }[type]\r\n  }\r\n\r\n  createElement (name = '', tag = this.options['tag']) {\r\n    if (!tag) {\r\n      return document.createElement(this.prefix('elem', name))\r\n    }\r\n\r\n    const _elem = document.createElement(tag)\r\n\r\n    _elem.setAttribute(this.prefix('attr', 'tag'), name)\r\n\r\n    return _elem\r\n  }\r\n\r\n  reducer (name) {\r\n    const { reducer } = this.options\r\n\r\n    if (!Keypad.istype(reducer, 'object')) {\r\n      return console.error('\"reducer\" must to be a plain object.')\r\n    }\r\n\r\n    if (typeof reducer[name] === 'function') {\r\n      return target => reducer[name].call(this, target)\r\n    }\r\n\r\n    return target => target\r\n  }\r\n\r\n  generator (layout) {\r\n    const { multiple } = this.options\r\n\r\n    const content = this.createElement('content')\r\n    const keyRow = this.createElement('key-row')\r\n    const key = this.createElement('key')\r\n    const span = document.createElement('span')\r\n\r\n    const rowReducer = this.reducer('row')\r\n    const keyReducer = this.reducer('key')\r\n\r\n    for (const group of layout) {\r\n      const _keyRow = keyRow.cloneNode()\r\n\r\n      for (let [keyText, keyValue, keyCode] of group) {\r\n        const _key = key.cloneNode()\r\n        const _span = span.cloneNode()\r\n\r\n        if (/svg\\[.+\\]/.test(keyText)) {\r\n          const name = keyText.match(/svg\\[(.+)\\]/)[1]\r\n          const svg = images[name]\r\n\r\n          if (!svg) {\r\n            console.wran(`No image is named \"${name}\"`)\r\n            break\r\n          }\r\n\r\n          const fake = document.createElementNS('http://www.w3.org/1999/xhtml', 'div')\r\n          fake.innerHTML = svg\r\n\r\n          _span.appendChild(fake.querySelector('svg'))\r\n        } else if (/(<\\/svg>[\\s]?)$/.test(keyText)) {\r\n          const fake = document.createElementNS('http://www.w3.org/1999/xhtml', 'div')\r\n          fake.innerHTML = keyText\r\n\r\n          _span.appendChild(fake.querySelector('svg'))\r\n        } else {\r\n          _span.textContent = keyText\r\n        }\r\n\r\n        if (keyValue || (!keyValue && !keyCode)) {\r\n          keyValue = keyValue || keyText\r\n          _key.setAttribute(this.prefix('attr', 'key-value'), keyValue || keyText)\r\n        }\r\n\r\n        if (keyCode) {\r\n          if (!multiple && /^@@/.test(keyCode + '')) {\r\n            continue\r\n          }\r\n\r\n          _key.setAttribute(this.prefix('attr', 'key-code'), keyCode)\r\n        }\r\n\r\n        _key.setAttribute(this.prefix('attr', 'status'), '')\r\n\r\n        _key.addEventListener(this.events.start,\r\n          ev => this.handleKey(ev, 'start', [keyText, keyValue, keyCode]),\r\n          false\r\n        )\r\n\r\n        _key.addEventListener(this.events.end,\r\n          ev => this.handleKey(ev, 'end', [keyText, keyValue, keyCode]),\r\n          false\r\n        )\r\n\r\n        _key.appendChild(_span)\r\n        _keyRow.appendChild(keyReducer(_key))\r\n      }\r\n\r\n      content.appendChild(rowReducer(_keyRow))\r\n    }\r\n\r\n    return content\r\n  }\r\n\r\n  handleKey (ev, when, [keyText, keyValue, keyCode]) {\r\n    ev.preventDefault()\r\n    ev.stopPropagation()\r\n\r\n    const target = ev.currentTarget\r\n    const attr = this.prefix('attr', 'status')\r\n    const status = target.getAttribute(attr)\r\n\r\n    if (status !== 'active') {\r\n      if (when === 'start') {\r\n        target.setAttribute(attr, 'start')\r\n      }\r\n\r\n      if (when === 'end') {\r\n        target.setAttribute(attr, '')\r\n      }\r\n    }\r\n\r\n    if (!keyCode && this.locked === this.maps['upper']) {\r\n      keyText = keyText && ('' + keyText).toUpperCase()\r\n      keyValue = keyValue && ('' + keyValue).toUpperCase()\r\n    }\r\n\r\n    this.keyMap(when, keyValue, keyCode)\r\n\r\n    if (typeof this.options[`on${when}`] === 'function') {\r\n      const prevent = this.options[`on${when}`].call(target, [keyText, keyValue, keyCode], ev)\r\n\r\n      if (prevent) return true\r\n    }\r\n\r\n    if (when === this.options['inputWhen']) {\r\n      this.keyInput(keyValue, keyCode)\r\n    }\r\n  }\r\n\r\n  keyMap (when, value, code) {\r\n    const { name } = this.options\r\n\r\n    const keypad = this.keypads[name]\r\n\r\n    const attr = this.prefix('attr', 'hightlight')\r\n    let hightlight = keypad.getAttribute('hightlight') || ''\r\n\r\n    hightlight = hightlight ? `${hightlight}+${code || value}` : (code || value)\r\n\r\n    if (when === 'start') {\r\n      this.hightlight = hightlight\r\n      keypad.setAttribute(attr, hightlight)\r\n    }\r\n\r\n    if (when === 'end') {\r\n      keypad.setAttribute(attr, '')\r\n    }\r\n\r\n    if (when === 'start' && code === this.maps['upper']) {\r\n      const attr = this.prefix('attr', 'locked')\r\n\r\n      if (this.locked) {\r\n        this.locked = null\r\n        keypad.removeAttribute(attr)\r\n      } else {\r\n        this.locked = code\r\n        keypad.setAttribute(attr, code)\r\n      }\r\n    }\r\n\r\n    if (when === 'end' && /^@@/.test(code)) {\r\n      const _name = code.match(/^@@(.*)/)[1]\r\n\r\n      this.hide()\r\n\r\n      const layouts = Object.keys(this.layouts)\r\n\r\n      if (typeof _name === 'string' && !_name.length) {\r\n        let next = layouts.indexOf(name) + 1\r\n\r\n        this.options['name'] = layouts[next === layouts.length ? 0 : next]\r\n      }\r\n\r\n      if (layouts.includes(_name)) {\r\n        this.options['name'] = _name\r\n      }\r\n\r\n      this.show()\r\n    }\r\n  }\r\n\r\n  keyInput (value, code) {\r\n    if (\r\n      !this.input || (\r\n        !(value === 0 ? '0' : value) &&\r\n        code !== this.maps['backspace']\r\n      )\r\n    ) return true\r\n\r\n    let _value = this.input.value\r\n    let start = this.input.selectionStart\r\n    let end = this.input.selectionEnd\r\n\r\n    if ((end - start)) {\r\n      _value = _value.slice(0, start) + _value.slice(end)\r\n    }\r\n\r\n    if (_value && code === this.maps['backspace'] && !(end - start)) {\r\n      _value = _value.slice(0, start - 1) + _value.slice(start)\r\n      start--\r\n    }\r\n\r\n    const type = Keypad.istype(value)\r\n    if (type !== 'null' && type !== 'undefined') {\r\n      _value = _value.slice(0, start) + value + _value.slice(start)\r\n      start++\r\n    }\r\n\r\n    this.input.value = _value\r\n    this.input.selectionEnd = start\r\n  }\r\n\r\n  render (layouts = this.layouts) {\r\n    const { render, theme, dark } = this.options\r\n\r\n    if (typeof render === 'function') {\r\n      return render.call(this)\r\n    }\r\n\r\n    const wrap = this.createElement('wrap')\r\n    const container = this.createElement('container')\r\n\r\n    wrap.setAttribute(this.prefix('attr', 'status'), 'none')\r\n\r\n    const contentReducer = this.reducer('content')\r\n    const containerReducer = this.reducer('container')\r\n\r\n    for (const [name, layout] of Object.entries(layouts)) {\r\n      const _content = this.generator(layout)\r\n      const _container = container.cloneNode()\r\n\r\n      _container.setAttribute(this.prefix('attr', 'name'), name)\r\n      _container.setAttribute(this.prefix('attr', 'status'), 'ready')\r\n\r\n      this.keypads[name] = _container\r\n\r\n      _container.appendChild(contentReducer(_content))\r\n      wrap.appendChild(containerReducer(_container))\r\n    }\r\n\r\n    wrap.setAttribute(this.prefix('attr', 'status'), 'ready')\r\n    wrap.setAttribute(this.prefix('attr', 'theme'), theme)\r\n    wrap.setAttribute(this.prefix('attr', 'dark'), dark)\r\n\r\n    wrap.addEventListener(this.events.start,\r\n      ev => ev.stopPropagation() || ev.preventDefault(),\r\n      false\r\n    )\r\n\r\n    this.wrap = this.reducer('wrap')(wrap)\r\n\r\n    return this.wrap\r\n  }\r\n\r\n  inject (target) {\r\n    const { body, name, multiple } = this.options\r\n\r\n    const wrap = target || body\r\n\r\n    wrap.appendChild(\r\n      this.render(multiple ? this.layouts : { [name]: this.layouts[name] })\r\n    )\r\n\r\n    this.parent = wrap\r\n  }\r\n\r\n  remove () {\r\n    if (this.wrap && this.parent) {\r\n      return this.parent.removeChild(this.wrap)\r\n    }\r\n\r\n    return console.log('Has not found \"Keypad\" that needed to be removed.')\r\n  }\r\n\r\n  listen (el = this.options['el']) {\r\n    if (!el) return false\r\n\r\n    let targets = []\r\n\r\n    switch (Keypad.istype(el)) {\r\n      case 'string':\r\n        targets = document.querySelectorAll(el)\r\n        break\r\n\r\n      case 'nodelist':\r\n        targets = el\r\n        break\r\n\r\n      default:\r\n        // must be a html element\r\n        if (!/html\\w*element/.test(Keypad.istype(el))) return false\r\n        targets = [el]\r\n        break\r\n    }\r\n\r\n    if (!targets || !targets.length) return false\r\n\r\n    Array.prototype.forEach.call(targets, target => {\r\n      target.addEventListener('focus', ev => {\r\n        this.input = ev.currentTarget\r\n        this.show()\r\n      }, false)\r\n\r\n      target.addEventListener('blur', ev => {\r\n        this.input = null\r\n        this.hide()\r\n      }, false)\r\n    })\r\n  }\r\n\r\n  bodyHide (ev, flag = this.options['hide']) {\r\n    if (!flag) return false\r\n\r\n    const _flag = typeof flag === 'string' ? flag : 'click'\r\n\r\n    document.body.addEventListener(_flag, ev => this.hide(), false)\r\n\r\n    this.wrap.addEventListener(_flag,\r\n      ev => ev.stopPropagation() || ev.preventDefault(),\r\n      false\r\n    )\r\n  }\r\n\r\n  show (name = this.options['name']) {\r\n    if (!this.layouts[name]) {\r\n      console.error(`Has not a keypad layout named \"${name}\"`)\r\n      return false\r\n    }\r\n\r\n    this.wrap.setAttribute(this.prefix('attr', 'status'), 'active')\r\n    this.keypads[name].setAttribute(this.prefix('attr', 'status'), 'active')\r\n  }\r\n\r\n  hide (name = this.options['name']) {\r\n    if (!this.layouts[name]) {\r\n      console.error(`Has not a keypad layout named \"${name}\"`)\r\n      return false\r\n    }\r\n\r\n    this.wrap.setAttribute(this.prefix('attr', 'status'), 'ready')\r\n    this.keypads[name].setAttribute(this.prefix('attr', 'status'), 'ready')\r\n  }\r\n\r\n  toggle (name = this.options['name']) {\r\n    if (this.wrap.getAttribute(this.prefix('attr', 'status')) === 'active') {\r\n      this.hide(name)\r\n    } else {\r\n      this.show(name)\r\n    }\r\n  }\r\n\r\n  dark (status = true) {\r\n    this.wrap.setAttribute(this.prefix('attr', 'dark'), !!status)\r\n  }\r\n\r\n  static istype (o, type) {\r\n    const r = Object.prototype.toString.call(o)\r\n      .replace(/^\\[object (.+)\\]$/, '$1').toLowerCase()\r\n\r\n    if (!type) return r\r\n\r\n    return type === r\r\n  }\r\n}\r\n"],"names":["Object","entries","obj","ownProps","keys","i","length","resArray","Array","o","TypeError","k","p","prototype","hasOwnProperty","call","push","assign","defineProperty","target","varArgs","to","index","arguments","nextSource","nextKey","includes","searchElement","fromIndex","len","n","Math","max","abs","document","body","number","qwer","upper","backspace","clear","add","done","Keypad","configs","options","layouts","maps","defaultOptions","defaultLayouts","defaultMaps","mobile","isMobile","el","input","show","hide","wrap","parent","keypads","hightlight","locked","listen","inject","bodyHide","type","name","flex","tag","createElement","prefix","_elem","setAttribute","reducer","istype","console","error","layout","multiple","content","keyRow","key","span","rowReducer","keyReducer","group","_keyRow","cloneNode","keyText","keyCode","_key","_span","test","match","svg","images","wran","fake","createElementNS","innerHTML","appendChild","querySelector","textContent","keyValue","addEventListener","events","start","handleKey","ev","end","when","preventDefault","stopPropagation","currentTarget","attr","status","getAttribute","toUpperCase","keyMap","prevent","keyInput","value","code","keypad","removeAttribute","_name","next","indexOf","_value","selectionStart","selectionEnd","slice","render","theme","dark","container","contentReducer","containerReducer","_content","generator","_container","removeChild","log","targets","querySelectorAll","forEach","flag","_flag","r","toString","replace","toLowerCase"],"mappings":"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"}