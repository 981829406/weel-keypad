{"version":3,"file":"keypad.js","sources":["../src/scripts/polyfills.js","../src/configs/options.js","../src/configs/layouts.js","../src/configs/maps.js","../src/images/index.js","../src/scripts/Keypad.js"],"sourcesContent":["/* eslint-disable */\r\n\r\nif (!Object.entries) Object.entries = function( obj ){\r\n  var ownProps = Object.keys( obj ),\r\n  i = ownProps.length,\r\n  resArray = new Array(i); // preallocate the Array\r\n  while (i--)\r\n  resArray[i] = [ownProps[i], obj[ownProps[i]]];\r\n  \r\n  return resArray;\r\n};\r\n\r\nif (!Object.keys) Object.keys = function(o) {\r\n  if (o !== Object(o))\r\n    throw new TypeError('Object.keys called on a non-object');\r\n  var k=[],p;\r\n  for (p in o) if (Object.prototype.hasOwnProperty.call(o,p)) k.push(p);\r\n  return k;\r\n};\r\n\r\nif (typeof Object.assign != 'function') {\r\n  // Must be writable: true, enumerable: false, configurable: true\r\n  Object.defineProperty(Object, \"assign\", {\r\n    value: function assign(target, varArgs) { // .length of function is 2\r\n      'use strict';\r\n      if (target == null) { // TypeError if undefined or null\r\n        throw new TypeError('Cannot convert undefined or null to object');\r\n      }\r\n\r\n      var to = Object(target);\r\n\r\n      for (var index = 1; index < arguments.length; index++) {\r\n        var nextSource = arguments[index];\r\n\r\n        if (nextSource != null) { // Skip over if undefined or null\r\n          for (var nextKey in nextSource) {\r\n            // Avoid bugs when hasOwnProperty is shadowed\r\n            if (Object.prototype.hasOwnProperty.call(nextSource, nextKey)) {\r\n              to[nextKey] = nextSource[nextKey];\r\n            }\r\n          }\r\n        }\r\n      }\r\n      return to;\r\n    },\r\n    writable: true,\r\n    configurable: true\r\n  });\r\n}\r\n","export default {\r\n  el: null, // listened input element\r\n  input: null, // the input element that need to set value\r\n  inputWhen: 'end', // the time to set input's value, 'start' or 'end'\r\n\r\n  flex: true, // use flex layout\r\n  mobile: true, // choose to use \"touch\" or \"mouse\" event by boolean\r\n\r\n  onstart: null, // touchstart|keydown callback\r\n  onend: null, // touchend|keyup callback,\r\n\r\n  name: 'number', // default keypad layout name\r\n  multiple: true, // render all keypad layouts\r\n  show: false, // show keypad after injected\r\n  // hide keypad when 'body' is clicked,\r\n  // support event name, default 'click'\r\n  hide: false,\r\n\r\n  render: null, // a callback to replace Keypad's render method\r\n  reducer: { // nodes's hook\r\n    wrap: null,\r\n    container: null,\r\n    content: null,\r\n    row: null,\r\n    key: null\r\n  },\r\n\r\n  tag: null, // custom tag name\r\n  theme: 'default', // theme name\r\n  dark: false, // dark theme mode\r\n\r\n  // the wrap element to be injected keypad,\r\n  // support callback to repleace default\r\n  body: document.body,\r\n\r\n  // auto inject to body\r\n  inject: true\r\n}\r\n","export const number = [\r\n  [[7], [8], [9]],\r\n  [[4], [5], [6]],\r\n  [[1], [2], [3]],\r\n  [['En', null, '@@qwer'], ['.'], [0], ['svg[backspace]', null, 'backspace']]\r\n]\r\n\r\nexport const qwer = [\r\n  [['q'], ['w'], ['e'], ['r'], ['t'], ['y'], ['u'], ['i'], ['o'], ['p']],\r\n  [['a'], ['s'], ['d'], ['f'], ['g'], ['h'], ['j'], ['k'], ['l']],\r\n  [['svg[upper]', null, 'upper'], ['z'], ['x'], ['c'], ['v'], ['b'], ['n'], ['m'], ['svg[backspace]', null, 'backspace']],\r\n  [['123', null, '@@number'], ['Space', ' '], [','], ['.'], ['svg[done]', null, 'enter']]\r\n]\r\n","export default {\r\n  backspace: 'backspace',\r\n  upper: 'upper',\r\n  ctrl: 'ctrl',\r\n  alt: 'alt',\r\n  shift: 'shift'\r\n}\r\n","export const upper = `<svg version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><path d=\"M6 18v-2.016h12v2.016h-12zM12 8.391l-4.594 4.594-1.406-1.406 6-6 6 6-1.406 1.406z\"></path></svg>`\r\n\r\nexport const backspace = `<svg version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><path d=\"M18.984 15.609l-3.563-3.609 3.563-3.609-1.406-1.406-3.563 3.609-3.609-3.609-1.406 1.406 3.609 3.609-3.609 3.609 1.406 1.406 3.609-3.609 3.563 3.609zM21.984 3c1.078 0 2.016 0.938 2.016 2.016v13.969c0 1.078-0.938 2.016-2.016 2.016h-15c-0.703 0-1.219-0.375-1.594-0.891l-5.391-8.109 5.391-8.109c0.375-0.516 0.891-0.891 1.594-0.891h15z\"></path></svg>`\r\n\r\nexport const clear = `<svg version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><path d=\"M19,4H15.5L14.5,3H9.5L8.5,4H5V6H19M6,19A2,2 0 0,0 8,21H16A2,2 0 0,0 18,19V7H6V19Z\" /></svg>`\r\n\r\nexport const add = `<svg version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><path d=\"M19,13H13V19H11V13H5V11H11V5H13V11H19V13Z\" /></svg>`\r\n\r\nexport const done = `<svg version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><path d=\"M9 16.219l10.594-10.641 1.406 1.406-12 12-5.578-5.578 1.359-1.406z\"></path></svg>`\r\n","import defaultOptions from '../configs/options'\r\nimport * as defaultLayouts from '../configs/layouts'\r\nimport defaultMaps from '../configs/maps'\r\nimport * as images from '../images'\r\n\r\n/**\r\n * Keypad class\r\n *\r\n * @param {Object?} options user options\r\n * @param {Object?} layouts user layouts\r\n * @param {Object?} maps user maps\r\n */\r\nexport default class Keypad {\r\n  constructor (...configs) {\r\n    let [options = {}, layouts = {}, maps = {}] = configs\r\n\r\n    if (typeof options === 'function') options = options(Object.assign({}, defaultOptions))\r\n    if (typeof layouts === 'function') layouts = layouts(Object.assign({}, defaultLayouts))\r\n    if (typeof maps === 'function') maps = maps(Object.assign({}, defaultMaps))\r\n\r\n    this.options = Object.assign({}, defaultOptions, options)\r\n    this.layouts = Object.assign({}, defaultLayouts, layouts)\r\n    this.maps = Object.assign({}, defaultMaps, maps)\r\n\r\n    if (!Keypad.istype(Keypad.isMobile, 'undefined')) {\r\n      this.options.mobile = Keypad.isMobile\r\n    }\r\n\r\n    const { el, input, show, hide, body, inject } = this.options\r\n\r\n    if (!body) {\r\n      console.error(`Option \"body\" is ${body}, maybe you need to wait the body loaded by 'window.onload'.`)\r\n    }\r\n\r\n    this.wrap = null\r\n    this.parent = body || null\r\n    this.input = input || null\r\n\r\n    this.keypads = {}\r\n    this.hightlight = null\r\n    this.locked = null\r\n\r\n    if (Keypad.istype(Keypad.plugins, 'array')) {\r\n      for (const [i, plugin] of Object.entries(Keypad.plugins)) {\r\n        this.use(plugin, i)\r\n      }\r\n    }\r\n\r\n    if (el) this.listen()\r\n    if (inject && body) this.inject()\r\n    if (show) this.show()\r\n    if (hide) this.bodyHide()\r\n  }\r\n\r\n  /**\r\n   * use for loading plugin\r\n   * @param {Function} plugin plugin module\r\n   * @param {String} id optional, plugin id or name\r\n   */\r\n  use (plugin, id) {\r\n    if (typeof plugin !== 'function') {\r\n      return console.warn(`[${id}] in Keypad.plugins is not a function.`)\r\n    }\r\n\r\n    plugin.call(this)\r\n  }\r\n\r\n  /**\r\n   * events according to device type\r\n   */\r\n  get events () {\r\n    const { mobile } = this.options\r\n\r\n    return {\r\n      start: mobile ? 'touchstart' : 'mousedown',\r\n      end: mobile ? 'touchend' : 'mouseup',\r\n      move: mobile ? 'touchmove' : 'mousemove'\r\n    }\r\n  }\r\n\r\n  /**\r\n   * prefix for Keypad elememnts and attributes\r\n   * @param {String} type 'elem' or 'attr'\r\n   * @param {String} name name of elem or attr\r\n   * @return {String} tag name or attribute's name\r\n   */\r\n  prefix (type = 'elem', name = '') {\r\n    const { flex } = this.options\r\n\r\n    return {\r\n      elem: `kypd${flex ? '-flex' : ''}-${name || 'span'}`,\r\n      attr: `data-kypd-${name || 'blank'}`\r\n    }[type]\r\n  }\r\n\r\n  /**\r\n   * createElement for custom element\r\n   * @param {String} name custom tag name\r\n   * @param {String} tag user's custom tag name\r\n   * @return {HTMLElement} created HTML element\r\n   */\r\n  createElement (name = '', tag = this.options['tag']) {\r\n    if (!tag) {\r\n      return document.createElement(this.prefix('elem', name))\r\n    }\r\n\r\n    const _elem = document.createElement(tag)\r\n\r\n    _elem.setAttribute(this.prefix('attr', 'tag'), name)\r\n\r\n    return _elem\r\n  }\r\n\r\n  /**\r\n   * reducer for user modifing Keypad's elements\r\n   * @param {String} name Keypad custom element name\r\n   * @return {HTMLElement} reduced element\r\n   */\r\n  reducer (name) {\r\n    const { reducer } = this.options\r\n\r\n    if (!Keypad.istype(reducer, 'object')) {\r\n      return console.error('\"reducer\" must to be a plain object.')\r\n    }\r\n\r\n    if (typeof reducer[name] === 'function') {\r\n      return (target, extra) =>\r\n        reducer[name].call(this, target, extra) ||\r\n        document.createDocumentFragment()\r\n    }\r\n\r\n    return target => target\r\n  }\r\n\r\n  /**\r\n   * generator for generating keypad's layout to HTML\r\n   * @param {Array} layout keypad's custom layout\r\n   * @return {HTMLElement} generated HTML\r\n   */\r\n  generator (layout) {\r\n    const { multiple } = this.options\r\n\r\n    const content = this.createElement('content')\r\n    const keyRow = this.createElement('key-row')\r\n    const key = this.createElement('key')\r\n    const span = document.createElement('span')\r\n\r\n    const rowReducer = this.reducer('row')\r\n    const keyReducer = this.reducer('key')\r\n\r\n    for (const row of layout) {\r\n      const _keyRow = keyRow.cloneNode()\r\n\r\n      for (let [keyText, keyValue, keyCode] of row) {\r\n        const _key = key.cloneNode()\r\n        const _span = span.cloneNode()\r\n\r\n        if (/svg\\[.+\\]/.test(keyText)) {\r\n          const name = keyText.match(/svg\\[(.+)\\]/)[1]\r\n          const svg = images[name]\r\n\r\n          if (!svg) {\r\n            console.wran(`No image is named \"${name}\"`)\r\n            break\r\n          }\r\n\r\n          const fake = document.createElementNS('http://www.w3.org/1999/xhtml', 'div')\r\n          fake.innerHTML = svg\r\n\r\n          _span.appendChild(fake.querySelector('svg'))\r\n        } else if (/(<\\/svg>[\\s]?)$/.test(keyText)) {\r\n          const fake = document.createElementNS('http://www.w3.org/1999/xhtml', 'div')\r\n          fake.innerHTML = keyText\r\n\r\n          _span.appendChild(fake.querySelector('svg'))\r\n        } else {\r\n          _span.textContent = keyText\r\n        }\r\n\r\n        if (keyValue || (!keyValue && !keyCode)) {\r\n          keyValue = keyValue || keyText\r\n          _key.setAttribute(this.prefix('attr', 'key-value'), keyValue || keyText)\r\n        }\r\n\r\n        if (keyCode) {\r\n          if (!multiple && /^@@/.test(keyCode + '')) {\r\n            continue\r\n          }\r\n\r\n          _key.setAttribute(this.prefix('attr', 'key-code'), keyCode)\r\n        }\r\n\r\n        _key.setAttribute(this.prefix('attr', 'status'), '')\r\n\r\n        _key.addEventListener(this.events.start,\r\n          ev => this.handleKey(ev, 'start', [keyText, keyValue, keyCode]),\r\n          false\r\n        )\r\n\r\n        _key.addEventListener(this.events.end,\r\n          ev => this.handleKey(ev, 'end', [keyText, keyValue, keyCode]),\r\n          false\r\n        )\r\n\r\n        _key.appendChild(_span)\r\n        _keyRow.appendChild(keyReducer(_key, [keyText, keyValue, keyCode]))\r\n      }\r\n\r\n      content.appendChild(rowReducer(_keyRow, row))\r\n    }\r\n\r\n    return content\r\n  }\r\n\r\n  /**\r\n   * handleKey for key's event listener\r\n   * @param {Event} ev key related event\r\n   * @param {String} when 'start' or 'end'\r\n   * @param {Array} key text and value and code\r\n   */\r\n  handleKey (ev, when, [keyText, keyValue, keyCode]) {\r\n    ev.preventDefault()\r\n    ev.stopPropagation()\r\n\r\n    const target = ev.currentTarget\r\n    const attr = this.prefix('attr', 'status')\r\n    const status = target.getAttribute(attr)\r\n\r\n    if (status !== 'active') {\r\n      if (when === 'start') {\r\n        target.setAttribute(attr, 'start')\r\n      }\r\n\r\n      if (when === 'end') {\r\n        target.setAttribute(attr, '')\r\n      }\r\n    }\r\n\r\n    if (!keyCode && this.locked === this.maps['upper']) {\r\n      keyText = keyText && ('' + keyText).toUpperCase()\r\n      keyValue = keyValue && ('' + keyValue).toUpperCase()\r\n    }\r\n\r\n    this.keyMap(when, keyValue, keyCode)\r\n\r\n    if (typeof this.options[`on${when}`] === 'function') {\r\n      const prevent = this.options[`on${when}`].call(target, [keyText, keyValue, keyCode], ev)\r\n\r\n      if (prevent) return true\r\n    }\r\n\r\n    if (when === this.options['inputWhen']) {\r\n      this.keyInput(keyValue, keyCode)\r\n    }\r\n  }\r\n\r\n  /**\r\n   * keyMap for key's trigger map\r\n   * @param {String} when 'start' or 'end'\r\n   * @param {String?} value key's value\r\n   * @param {String?} code key's command code\r\n   */\r\n  keyMap (when, value, code) {\r\n    const { name } = this.options\r\n\r\n    const keypad = this.keypads[name]\r\n\r\n    const attr = this.prefix('attr', 'hightlight')\r\n    let hightlight = keypad.getAttribute('hightlight') || ''\r\n\r\n    hightlight = hightlight ? `${hightlight}+${code || value}` : (code || value)\r\n\r\n    if (when === 'start') {\r\n      this.hightlight = hightlight\r\n      keypad.setAttribute(attr, hightlight)\r\n    }\r\n\r\n    if (when === 'end') {\r\n      keypad.setAttribute(attr, '')\r\n    }\r\n\r\n    if (when === 'start' && code === this.maps['upper']) {\r\n      const attr = this.prefix('attr', 'locked')\r\n\r\n      if (this.locked) {\r\n        this.locked = null\r\n        keypad.removeAttribute(attr)\r\n      } else {\r\n        this.locked = code\r\n        keypad.setAttribute(attr, code)\r\n      }\r\n    }\r\n\r\n    if (when === 'end' && /^@@/.test(code)) {\r\n      const _name = code.match(/^@@(.*)/)[1]\r\n\r\n      this.hide()\r\n\r\n      const layouts = Object.keys(this.layouts)\r\n\r\n      if (typeof _name === 'string' && !_name.length) {\r\n        let next = layouts.indexOf(name) + 1\r\n\r\n        this.options['name'] = layouts[next === layouts.length ? 0 : next]\r\n      }\r\n\r\n      if (~layouts.indexOf(_name)) {\r\n        this.options['name'] = _name\r\n      }\r\n\r\n      this.show()\r\n    }\r\n  }\r\n\r\n  /**\r\n   * keyInput for key to set input value\r\n   * @param {String?} value key's value\r\n   * @param {String?} code key's command code\r\n   */\r\n  keyInput (value, code) {\r\n    if (\r\n      !this.input || (\r\n        !(value === 0 ? '0' : value) &&\r\n        code !== this.maps['backspace']\r\n      )\r\n    ) return true\r\n\r\n    let _value = this.input.value\r\n    let start = this.input.selectionStart\r\n    let end = this.input.selectionEnd\r\n\r\n    if ((end - start)) {\r\n      _value = _value.slice(0, start) + _value.slice(end)\r\n    }\r\n\r\n    if (_value && code === this.maps['backspace'] && !(end - start)) {\r\n      _value = _value.slice(0, start - 1) + _value.slice(start)\r\n      start--\r\n    }\r\n\r\n    const type = Keypad.istype(value)\r\n    if (type !== 'null' && type !== 'undefined') {\r\n      _value = _value.slice(0, start) + value + _value.slice(start)\r\n      start++\r\n    }\r\n\r\n    this.input.value = _value\r\n    this.input.selectionEnd = start\r\n  }\r\n\r\n  /**\r\n   * render for Keypad's rending\r\n   * @param {Object} layouts all keypad layouts\r\n   * @return {HTMLElement} rended Keypad HTML\r\n   */\r\n  render (layouts = this.layouts) {\r\n    const { render, theme, dark } = this.options\r\n\r\n    if (typeof render === 'function') {\r\n      return render.call(this)\r\n    }\r\n\r\n    const wrap = this.createElement('wrap')\r\n    const container = this.createElement('container')\r\n\r\n    wrap.setAttribute(this.prefix('attr', 'status'), 'none')\r\n\r\n    const contentReducer = this.reducer('content')\r\n    const containerReducer = this.reducer('container')\r\n\r\n    for (const [name, layout] of Object.entries(layouts)) {\r\n      const _content = this.generator(layout)\r\n\r\n      _content.setAttribute(this.prefix('attr', 'name'), name)\r\n      _content.setAttribute(this.prefix('attr', 'status'), 'ready')\r\n\r\n      this.keypads[name] = _content\r\n\r\n      container.appendChild(contentReducer(_content, [name, layout]))\r\n    }\r\n\r\n    wrap.appendChild(containerReducer(container, layouts))\r\n\r\n    wrap.setAttribute(this.prefix('attr', 'status'), 'ready')\r\n    wrap.setAttribute(this.prefix('attr', 'theme'), theme)\r\n    wrap.setAttribute(this.prefix('attr', 'dark'), dark)\r\n\r\n    wrap.addEventListener(this.bodyEvent,\r\n      ev => ev.stopPropagation() || ev.preventDefault(),\r\n      false\r\n    )\r\n\r\n    this.wrap = this.reducer('wrap')(wrap)\r\n\r\n    return this.wrap\r\n  }\r\n\r\n  /**\r\n   * inject Keypad to the target node\r\n   * @param {Node} target the parent node to be injected\r\n   */\r\n  inject (target) {\r\n    const { body, name, multiple } = this.options\r\n\r\n    const parent = target || body\r\n\r\n    parent.appendChild(\r\n      this.render(multiple ? this.layouts : { [name]: this.layouts[name] })\r\n    )\r\n\r\n    this.parent = parent\r\n  }\r\n\r\n  /**\r\n   * remove Keypad from the parent node\r\n   */\r\n  remove () {\r\n    if (this.wrap && this.parent) {\r\n      return !!this.parent.removeChild(this.wrap)\r\n    }\r\n\r\n    return !!console.log('Has not found \"Keypad\" that needed to be removed.')\r\n  }\r\n\r\n  /**\r\n   * listen input's focus and blur event\r\n   * @param {HTMLElement?} el HTMLElement or NodeList to be listend\r\n   */\r\n  listen (el = this.options['el']) {\r\n    if (!el) return false\r\n\r\n    let targets = []\r\n\r\n    switch (Keypad.istype(el)) {\r\n      case 'string':\r\n        targets = document.querySelectorAll(el)\r\n        break\r\n\r\n      case 'nodelist':\r\n        targets = el\r\n        break\r\n\r\n      default:\r\n        // must be a html element\r\n        if (!/html\\w*element/.test(Keypad.istype(el))) return false\r\n        targets = [el]\r\n        break\r\n    }\r\n\r\n    if (!targets || !targets.length) return false\r\n\r\n    Array.prototype.forEach.call(targets, target => {\r\n      target.addEventListener('focus', ev => {\r\n        this.input = ev.currentTarget\r\n        this.show()\r\n      }, false)\r\n\r\n      target.addEventListener('blur', ev => {\r\n        this.input = null\r\n        this.hide()\r\n      }, false)\r\n    })\r\n  }\r\n\r\n  /**\r\n   * bodyEvent to bodyHide\r\n   */\r\n  get bodyEvent () {\r\n    const { hide } = this.options\r\n\r\n    return typeof hide === 'string' ? hide : this.events.start\r\n  }\r\n\r\n  /**\r\n   * bodyHide for tap body area except keypad wrap\r\n   */\r\n  bodyHide () {\r\n    document.body.addEventListener(this.bodyEvent, ev => {\r\n      this.hide()\r\n    }, false)\r\n\r\n    this.wrap.addEventListener(this.bodyEvent,\r\n      ev => ev.stopPropagation() || ev.preventDefault(),\r\n      false\r\n    )\r\n  }\r\n\r\n  /**\r\n   * show keypad with a layout\r\n   * @param {String} name layout's name\r\n   */\r\n  show (name = this.options['name']) {\r\n    if (!this.layouts[name]) {\r\n      console.error(`Has not a keypad layout named \"${name}\"`)\r\n      return false\r\n    }\r\n\r\n    this.wrap.setAttribute(this.prefix('attr', 'status'), 'active')\r\n    this.keypads[name].setAttribute(this.prefix('attr', 'status'), 'active')\r\n  }\r\n\r\n  /**\r\n   * hide keypad with a layout\r\n   * @param {String} name layout's name\r\n   */\r\n  hide (name = this.options['name']) {\r\n    if (!this.layouts[name]) {\r\n      console.error(`Has not a keypad layout named \"${name}\"`)\r\n      return false\r\n    }\r\n\r\n    this.wrap.setAttribute(this.prefix('attr', 'status'), 'ready')\r\n    this.keypads[name].setAttribute(this.prefix('attr', 'status'), 'ready')\r\n  }\r\n\r\n  /**\r\n   * toggle keypad show and hide\r\n   * @param {String} name layout's name\r\n   */\r\n  toggle (name = this.options['name']) {\r\n    if (this.wrap.getAttribute(this.prefix('attr', 'status')) === 'active') {\r\n      this.hide(name)\r\n    } else {\r\n      this.show(name)\r\n    }\r\n  }\r\n\r\n  /**\r\n   * dark theme enabled\r\n   * @param {Boolean} expect expect use dark theme whether or not\r\n   */\r\n  dark (expect = true) {\r\n    this.wrap.setAttribute(this.prefix('attr', 'dark'), !!expect)\r\n  }\r\n\r\n  /**\r\n   * istype for check object's type\r\n   * @param {Object?} o needed to checked thing\r\n   * @param {String} type expected type\r\n   * @return {Boolean?} is \"type\" param is undefined return checking result\r\n   */\r\n  static istype (o, type) {\r\n    const r = Object.prototype.toString.call(o)\r\n      .replace(/^\\[object (.+)\\]$/, '$1').toLowerCase()\r\n\r\n    if (!type) return r\r\n\r\n    return type === r\r\n  }\r\n}\r\n"],"names":["Object","entries","obj","ownProps","keys","i","length","resArray","Array","o","TypeError","k","p","prototype","hasOwnProperty","call","push","assign","defineProperty","target","varArgs","to","index","arguments","nextSource","nextKey","document","body","number","qwer","upper","backspace","clear","add","done","Keypad","configs","options","layouts","maps","defaultOptions","defaultLayouts","defaultMaps","istype","isMobile","mobile","el","input","show","hide","inject","error","wrap","parent","keypads","hightlight","locked","plugins","plugin","use","listen","bodyHide","id","console","warn","type","name","flex","tag","createElement","prefix","_elem","setAttribute","reducer","extra","createDocumentFragment","layout","multiple","content","keyRow","key","span","rowReducer","keyReducer","row","_keyRow","cloneNode","keyText","keyCode","_key","_span","test","match","svg","images","wran","fake","createElementNS","innerHTML","appendChild","querySelector","textContent","keyValue","addEventListener","events","start","handleKey","ev","end","when","preventDefault","stopPropagation","currentTarget","attr","status","getAttribute","toUpperCase","keyMap","prevent","keyInput","value","code","keypad","removeAttribute","_name","next","indexOf","_value","selectionStart","selectionEnd","slice","render","theme","dark","container","contentReducer","containerReducer","_content","generator","bodyEvent","removeChild","log","targets","querySelectorAll","forEach","expect","r","toString","replace","toLowerCase"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;;AAEA,IAAI,CAACA,OAAOC,OAAZ,EAAqBD,OAAOC,OAAP,GAAiB,UAAUC,GAAV,EAAe;MAC/CC,WAAWH,OAAOI,IAAP,CAAaF,GAAb,CAAf;MACAG,IAAIF,SAASG,MADb;MAEAC,WAAW,IAAIC,KAAJ,CAAUH,CAAV,CAFX,CADmD;SAI5CA,GAAP;aACSA,CAAT,IAAc,CAACF,SAASE,CAAT,CAAD,EAAcH,IAAIC,SAASE,CAAT,CAAJ,CAAd,CAAd;GAEA,OAAOE,QAAP;CAPmB;;AAUrB,IAAI,CAACP,OAAOI,IAAZ,EAAkBJ,OAAOI,IAAP,GAAc,UAASK,CAAT,EAAY;MACtCA,MAAMT,OAAOS,CAAP,CAAV,EACE,MAAM,IAAIC,SAAJ,CAAc,oCAAd,CAAN;MACEC,IAAE,EAAN;MAASC,CAAT;OACKA,CAAL,IAAUH,CAAV;QAAiBT,OAAOa,SAAP,CAAiBC,cAAjB,CAAgCC,IAAhC,CAAqCN,CAArC,EAAuCG,CAAvC,CAAJ,EAA+CD,EAAEK,IAAF,CAAOJ,CAAP;GAC5D,OAAOD,CAAP;CALgB;;AAQlB,IAAI,OAAOX,OAAOiB,MAAd,IAAwB,UAA5B,EAAwC;;SAE/BC,cAAP,CAAsBlB,MAAtB,EAA8B,QAA9B,EAAwC;WAC/B,SAASiB,MAAT,CAAgBE,MAAhB,EAAwBC,OAAxB,EAAiC;;UAElCD,UAAU,IAAd,EAAoB;;cACZ,IAAIT,SAAJ,CAAc,4CAAd,CAAN;;;UAGEW,KAAKrB,OAAOmB,MAAP,CAAT;;WAEK,IAAIG,QAAQ,CAAjB,EAAoBA,QAAQC,UAAUjB,MAAtC,EAA8CgB,OAA9C,EAAuD;YACjDE,aAAaD,UAAUD,KAAV,CAAjB;;YAEIE,cAAc,IAAlB,EAAwB;;eACjB,IAAIC,OAAT,IAAoBD,UAApB,EAAgC;;gBAE1BxB,OAAOa,SAAP,CAAiBC,cAAjB,CAAgCC,IAAhC,CAAqCS,UAArC,EAAiDC,OAAjD,CAAJ,EAA+D;iBAC1DA,OAAH,IAAcD,WAAWC,OAAX,CAAd;;;;;aAKDJ,EAAP;KArBoC;cAuB5B,IAvB4B;kBAwBxB;GAxBhB;;;ACtBF,qBAAe;MACT,IADS;SAEN,IAFM;aAGF,KAHE;;QAKP,IALO;UAML,IANK;;WAQJ,IARI;SASN,IATM;;QAWP,QAXO;YAYH,IAZG;QAaP,KAbO;;;QAgBP,KAhBO;;UAkBL,IAlBK;WAmBJ;UACD,IADC;eAEI,IAFJ;aAGE,IAHF;SAIF,IAJE;SAKF;GAxBM;;OA2BR,IA3BQ;SA4BN,SA5BM;QA6BP,KA7BO;;;;QAiCPK,SAASC,IAjCF;;;UAoCL;CApCV;;ACAO,IAAMC,SAAS,CACpB,CAAC,CAAC,CAAD,CAAD,EAAM,CAAC,CAAD,CAAN,EAAW,CAAC,CAAD,CAAX,CADoB,EAEpB,CAAC,CAAC,CAAD,CAAD,EAAM,CAAC,CAAD,CAAN,EAAW,CAAC,CAAD,CAAX,CAFoB,EAGpB,CAAC,CAAC,CAAD,CAAD,EAAM,CAAC,CAAD,CAAN,EAAW,CAAC,CAAD,CAAX,CAHoB,EAIpB,CAAC,CAAC,IAAD,EAAO,IAAP,EAAa,QAAb,CAAD,EAAyB,CAAC,GAAD,CAAzB,EAAgC,CAAC,CAAD,CAAhC,EAAqC,CAAC,gBAAD,EAAmB,IAAnB,EAAyB,WAAzB,CAArC,CAJoB,CAAf;;AAOP,AAAO,IAAMC,OAAO,CAClB,CAAC,CAAC,GAAD,CAAD,EAAQ,CAAC,GAAD,CAAR,EAAe,CAAC,GAAD,CAAf,EAAsB,CAAC,GAAD,CAAtB,EAA6B,CAAC,GAAD,CAA7B,EAAoC,CAAC,GAAD,CAApC,EAA2C,CAAC,GAAD,CAA3C,EAAkD,CAAC,GAAD,CAAlD,EAAyD,CAAC,GAAD,CAAzD,EAAgE,CAAC,GAAD,CAAhE,CADkB,EAElB,CAAC,CAAC,GAAD,CAAD,EAAQ,CAAC,GAAD,CAAR,EAAe,CAAC,GAAD,CAAf,EAAsB,CAAC,GAAD,CAAtB,EAA6B,CAAC,GAAD,CAA7B,EAAoC,CAAC,GAAD,CAApC,EAA2C,CAAC,GAAD,CAA3C,EAAkD,CAAC,GAAD,CAAlD,EAAyD,CAAC,GAAD,CAAzD,CAFkB,EAGlB,CAAC,CAAC,YAAD,EAAe,IAAf,EAAqB,OAArB,CAAD,EAAgC,CAAC,GAAD,CAAhC,EAAuC,CAAC,GAAD,CAAvC,EAA8C,CAAC,GAAD,CAA9C,EAAqD,CAAC,GAAD,CAArD,EAA4D,CAAC,GAAD,CAA5D,EAAmE,CAAC,GAAD,CAAnE,EAA0E,CAAC,GAAD,CAA1E,EAAiF,CAAC,gBAAD,EAAmB,IAAnB,EAAyB,WAAzB,CAAjF,CAHkB,EAIlB,CAAC,CAAC,KAAD,EAAQ,IAAR,EAAc,UAAd,CAAD,EAA4B,CAAC,OAAD,EAAU,GAAV,CAA5B,EAA4C,CAAC,GAAD,CAA5C,EAAmD,CAAC,GAAD,CAAnD,EAA0D,CAAC,WAAD,EAAc,IAAd,EAAoB,OAApB,CAA1D,CAJkB,CAAb;;;;;;;ACPP,kBAAe;aACF,WADE;SAEN,OAFM;QAGP,MAHO;OAIR,KAJQ;SAKN;CALT;;ACAO,IAAMC,gOAAN;;AAEP,AAAO,IAAMC,6dAAN;;AAEP,AAAO,IAAMC,2NAAN;;AAEP,AAAO,IAAMC,iLAAN;;AAEP,AAAO,IAAMC,gNAAN;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACHP;;;;;;;;IAOqBC;oBACM;;;sCAATC,OAAS;aAAA;;;oBACuBA,OADvB;QAClBC,OADkB,6BACR,EADQ;qBACuBD,OADvB;QACJE,OADI,8BACM,EADN;qBACuBF,OADvB;QACUG,IADV,8BACiB,EADjB;;;QAGnB,OAAOF,OAAP,KAAmB,UAAvB,EAAmCA,UAAUA,QAAQrC,OAAOiB,MAAP,CAAc,EAAd,EAAkBuB,cAAlB,CAAR,CAAV;QAC/B,OAAOF,OAAP,KAAmB,UAAvB,EAAmCA,UAAUA,QAAQtC,OAAOiB,MAAP,CAAc,EAAd,EAAkBwB,cAAlB,CAAR,CAAV;QAC/B,OAAOF,IAAP,KAAgB,UAApB,EAAgCA,OAAOA,KAAKvC,OAAOiB,MAAP,CAAc,EAAd,EAAkByB,WAAlB,CAAL,CAAP;;SAE3BL,OAAL,GAAerC,OAAOiB,MAAP,CAAc,EAAd,EAAkBuB,cAAlB,EAAkCH,OAAlC,CAAf;SACKC,OAAL,GAAetC,OAAOiB,MAAP,CAAc,EAAd,EAAkBwB,cAAlB,EAAkCH,OAAlC,CAAf;SACKC,IAAL,GAAYvC,OAAOiB,MAAP,CAAc,EAAd,EAAkByB,WAAlB,EAA+BH,IAA/B,CAAZ;;QAEI,CAACJ,OAAOQ,MAAP,CAAcR,OAAOS,QAArB,EAA+B,WAA/B,CAAL,EAAkD;WAC3CP,OAAL,CAAaQ,MAAb,GAAsBV,OAAOS,QAA7B;;;mBAG8C,KAAKP,OAf9B;QAefS,EAfe,YAefA,EAfe;QAeXC,KAfW,YAeXA,KAfW;QAeJC,IAfI,YAeJA,IAfI;QAeEC,IAfF,YAeEA,IAfF;QAeQtB,IAfR,YAeQA,IAfR;QAecuB,MAfd,YAecA,MAfd;;;QAiBnB,CAACvB,IAAL,EAAW;cACDwB,KAAR,uBAAkCxB,IAAlC;;;SAGGyB,IAAL,GAAY,IAAZ;SACKC,MAAL,GAAc1B,QAAQ,IAAtB;SACKoB,KAAL,GAAaA,SAAS,IAAtB;;SAEKO,OAAL,GAAe,EAAf;SACKC,UAAL,GAAkB,IAAlB;SACKC,MAAL,GAAc,IAAd;;QAEIrB,OAAOQ,MAAP,CAAcR,OAAOsB,OAArB,EAA8B,OAA9B,CAAJ,EAA4C;;;;;;6BAChBzD,OAAOC,OAAP,CAAekC,OAAOsB,OAAtB,CAA1B,8HAA0D;;;;;cAA9CpD,CAA8C;cAA3CqD,MAA2C;;eACnDC,GAAL,CAASD,MAAT,EAAiBrD,CAAjB;;;;;;;;;;;;;;;;;;QAIAyC,EAAJ,EAAQ,KAAKc,MAAL;QACJV,UAAUvB,IAAd,EAAoB,KAAKuB,MAAL;QAChBF,IAAJ,EAAU,KAAKA,IAAL;QACNC,IAAJ,EAAU,KAAKY,QAAL;;;;;;;;;;;;wBAQPH,QAAQI,IAAI;UACX,OAAOJ,MAAP,KAAkB,UAAtB,EAAkC;eACzBK,QAAQC,IAAR,OAAiBF,EAAjB,4CAAP;;;aAGK/C,IAAP,CAAY,IAAZ;;;;;;;;;;;;;;;;;6BAsBgC;UAA1BkD,IAA0B,uEAAnB,MAAmB;UAAXC,IAAW,uEAAJ,EAAI;UACxBC,IADwB,GACf,KAAK9B,OADU,CACxB8B,IADwB;;;aAGzB;wBACQA,OAAO,OAAP,GAAiB,EAA9B,WAAoCD,QAAQ,MAA5C,CADK;8BAEcA,QAAQ,OAA3B;QACAD,IAHK,CAAP;;;;;;;;;;;;oCAYmD;UAAtCC,IAAsC,uEAA/B,EAA+B;UAA3BE,GAA2B,uEAArB,KAAK/B,OAAL,CAAa,KAAb,CAAqB;;UAC/C,CAAC+B,GAAL,EAAU;eACD1C,SAAS2C,aAAT,CAAuB,KAAKC,MAAL,CAAY,MAAZ,EAAoBJ,IAApB,CAAvB,CAAP;;;UAGIK,QAAQ7C,SAAS2C,aAAT,CAAuBD,GAAvB,CAAd;;YAEMI,YAAN,CAAmB,KAAKF,MAAL,CAAY,MAAZ,EAAoB,KAApB,CAAnB,EAA+CJ,IAA/C;;aAEOK,KAAP;;;;;;;;;;;4BAQOL,MAAM;;;UACLO,OADK,GACO,KAAKpC,OADZ,CACLoC,OADK;;;UAGT,CAACtC,OAAOQ,MAAP,CAAc8B,OAAd,EAAuB,QAAvB,CAAL,EAAuC;eAC9BV,QAAQZ,KAAR,CAAc,sCAAd,CAAP;;;UAGE,OAAOsB,QAAQP,IAAR,CAAP,KAAyB,UAA7B,EAAyC;eAChC,UAAC/C,MAAD,EAASuD,KAAT;iBACLD,QAAQP,IAAR,EAAcnD,IAAd,QAAyBI,MAAzB,EAAiCuD,KAAjC,KACAhD,SAASiD,sBAAT,EAFK;SAAP;;;aAKK;eAAUxD,MAAV;OAAP;;;;;;;;;;;8BAQSyD,QAAQ;;;UACTC,QADS,GACI,KAAKxC,OADT,CACTwC,QADS;;;UAGXC,UAAU,KAAKT,aAAL,CAAmB,SAAnB,CAAhB;UACMU,SAAS,KAAKV,aAAL,CAAmB,SAAnB,CAAf;UACMW,MAAM,KAAKX,aAAL,CAAmB,KAAnB,CAAZ;UACMY,OAAOvD,SAAS2C,aAAT,CAAuB,MAAvB,CAAb;;UAEMa,aAAa,KAAKT,OAAL,CAAa,KAAb,CAAnB;UACMU,aAAa,KAAKV,OAAL,CAAa,KAAb,CAAnB;;;;;;;8BAEkBG,MAAlB,mIAA0B;cAAfQ,GAAe;;cAClBC,UAAUN,OAAOO,SAAP,EAAhB;;qCAEUC,OAHc,aAGKC,OAHL;gBAIhBC,OAAOT,IAAIM,SAAJ,EAAb;gBACMI,QAAQT,KAAKK,SAAL,EAAd;;gBAEI,YAAYK,IAAZ,CAAiBJ,OAAjB,CAAJ,EAA+B;kBACvBrB,OAAOqB,QAAQK,KAAR,CAAc,aAAd,EAA6B,CAA7B,CAAb;kBACMC,MAAMC,OAAO5B,IAAP,CAAZ;;kBAEI,CAAC2B,GAAL,EAAU;wBACAE,IAAR,yBAAmC7B,IAAnC;;;;kBAII8B,OAAOtE,SAASuE,eAAT,CAAyB,8BAAzB,EAAyD,KAAzD,CAAb;mBACKC,SAAL,GAAiBL,GAAjB;;oBAEMM,WAAN,CAAkBH,KAAKI,aAAL,CAAmB,KAAnB,CAAlB;aAZF,MAaO,IAAI,kBAAkBT,IAAlB,CAAuBJ,OAAvB,CAAJ,EAAqC;kBACpCS,QAAOtE,SAASuE,eAAT,CAAyB,8BAAzB,EAAyD,KAAzD,CAAb;oBACKC,SAAL,GAAiBX,OAAjB;;oBAEMY,WAAN,CAAkBH,MAAKI,aAAL,CAAmB,KAAnB,CAAlB;aAJK,MAKA;oBACCC,WAAN,GAAoBd,OAApB;;;gBAGEe,aAAa,CAACA,SAAD,IAAa,CAACd,OAA/B,EAAyC;0BAC5Bc,aAAYf,OAAvB;mBACKf,YAAL,CAAkB,OAAKF,MAAL,CAAY,MAAZ,EAAoB,WAApB,CAAlB,EAAoDgC,aAAYf,OAAhE;;;gBAGEC,OAAJ,EAAa;kBACP,CAACX,QAAD,IAAa,MAAMc,IAAN,CAAWH,UAAU,EAArB,CAAjB,EAA2C;;;;mBAItChB,YAAL,CAAkB,OAAKF,MAAL,CAAY,MAAZ,EAAoB,UAApB,CAAlB,EAAmDkB,OAAnD;;;iBAGGhB,YAAL,CAAkB,OAAKF,MAAL,CAAY,MAAZ,EAAoB,QAApB,CAAlB,EAAiD,EAAjD;;iBAEKiC,gBAAL,CAAsB,OAAKC,MAAL,CAAYC,KAAlC,EACE;qBAAM,OAAKC,SAAL,CAAeC,EAAf,EAAmB,OAAnB,EAA4B,CAACpB,OAAD,EAAUe,SAAV,EAAoBd,OAApB,CAA5B,CAAN;aADF,EAEE,KAFF;;iBAKKe,gBAAL,CAAsB,OAAKC,MAAL,CAAYI,GAAlC,EACE;qBAAM,OAAKF,SAAL,CAAeC,EAAf,EAAmB,KAAnB,EAA0B,CAACpB,OAAD,EAAUe,SAAV,EAAoBd,OAApB,CAA1B,CAAN;aADF,EAEE,KAFF;;iBAKKW,WAAL,CAAiBT,KAAjB;oBACQS,WAAR,CAAoBhB,WAAWM,IAAX,EAAiB,CAACF,OAAD,EAAUe,SAAV,EAAoBd,OAApB,CAAjB,CAApB;oBAvDsB;;;;;;;;oBAGxB,sBAAyCJ,GAAzC,mIAA8C;;;;;kBAApCG,OAAoC;kBAA3Be,QAA2B;kBAAjBd,OAAiB;;+BAApCD,OAAoC,EAA3Be,QAA2B,EAAjBd,OAAiB;;;;;;;2BAAA;;;;;;;;;;;;;;;;;kBAuDtCW,WAAR,CAAoBjB,WAAWG,OAAX,EAAoBD,GAApB,CAApB;;;;;;;;;;;;;;;;;aAGKN,OAAP;;;;;;;;;;;;8BASS6B,IAAIE,aAAoC;;UAA7BtB,OAA6B;UAApBe,QAAoB;UAAVd,OAAU;;SAC9CsB,cAAH;SACGC,eAAH;;UAEM5F,SAASwF,GAAGK,aAAlB;UACMC,OAAO,KAAK3C,MAAL,CAAY,MAAZ,EAAoB,QAApB,CAAb;UACM4C,SAAS/F,OAAOgG,YAAP,CAAoBF,IAApB,CAAf;;UAEIC,WAAW,QAAf,EAAyB;YACnBL,SAAS,OAAb,EAAsB;iBACbrC,YAAP,CAAoByC,IAApB,EAA0B,OAA1B;;;YAGEJ,SAAS,KAAb,EAAoB;iBACXrC,YAAP,CAAoByC,IAApB,EAA0B,EAA1B;;;;UAIA,CAACzB,OAAD,IAAY,KAAKhC,MAAL,KAAgB,KAAKjB,IAAL,CAAU,OAAV,CAAhC,EAAoD;kBACxCgD,WAAW,CAAC,KAAKA,OAAN,EAAe6B,WAAf,EAArB;mBACWd,YAAY,CAAC,KAAKA,QAAN,EAAgBc,WAAhB,EAAvB;;;WAGGC,MAAL,CAAYR,IAAZ,EAAkBP,QAAlB,EAA4Bd,OAA5B;;UAEI,OAAO,KAAKnD,OAAL,QAAkBwE,IAAlB,CAAP,KAAqC,UAAzC,EAAqD;YAC7CS,UAAU,KAAKjF,OAAL,QAAkBwE,IAAlB,EAA0B9F,IAA1B,CAA+BI,MAA/B,EAAuC,CAACoE,OAAD,EAAUe,QAAV,EAAoBd,OAApB,CAAvC,EAAqEmB,EAArE,CAAhB;;YAEIW,OAAJ,EAAa,OAAO,IAAP;;;UAGXT,SAAS,KAAKxE,OAAL,CAAa,WAAb,CAAb,EAAwC;aACjCkF,QAAL,CAAcjB,QAAd,EAAwBd,OAAxB;;;;;;;;;;;;;2BAUIqB,MAAMW,OAAOC,MAAM;UACjBvD,IADiB,GACR,KAAK7B,OADG,CACjB6B,IADiB;;;UAGnBwD,SAAS,KAAKpE,OAAL,CAAaY,IAAb,CAAf;;UAEM+C,OAAO,KAAK3C,MAAL,CAAY,MAAZ,EAAoB,YAApB,CAAb;UACIf,aAAamE,OAAOP,YAAP,CAAoB,YAApB,KAAqC,EAAtD;;mBAEa5D,aAAgBA,UAAhB,UAA8BkE,QAAQD,KAAtC,IAAiDC,QAAQD,KAAtE;;UAEIX,SAAS,OAAb,EAAsB;aACftD,UAAL,GAAkBA,UAAlB;eACOiB,YAAP,CAAoByC,IAApB,EAA0B1D,UAA1B;;;UAGEsD,SAAS,KAAb,EAAoB;eACXrC,YAAP,CAAoByC,IAApB,EAA0B,EAA1B;;;UAGEJ,SAAS,OAAT,IAAoBY,SAAS,KAAKlF,IAAL,CAAU,OAAV,CAAjC,EAAqD;YAC7C0E,QAAO,KAAK3C,MAAL,CAAY,MAAZ,EAAoB,QAApB,CAAb;;YAEI,KAAKd,MAAT,EAAiB;eACVA,MAAL,GAAc,IAAd;iBACOmE,eAAP,CAAuBV,KAAvB;SAFF,MAGO;eACAzD,MAAL,GAAciE,IAAd;iBACOjD,YAAP,CAAoByC,KAApB,EAA0BQ,IAA1B;;;;UAIAZ,SAAS,KAAT,IAAkB,MAAMlB,IAAN,CAAW8B,IAAX,CAAtB,EAAwC;YAChCG,QAAQH,KAAK7B,KAAL,CAAW,SAAX,EAAsB,CAAtB,CAAd;;aAEK3C,IAAL;;YAEMX,UAAUtC,OAAOI,IAAP,CAAY,KAAKkC,OAAjB,CAAhB;;YAEI,OAAOsF,KAAP,KAAiB,QAAjB,IAA6B,CAACA,MAAMtH,MAAxC,EAAgD;cAC1CuH,OAAOvF,QAAQwF,OAAR,CAAgB5D,IAAhB,IAAwB,CAAnC;;eAEK7B,OAAL,CAAa,MAAb,IAAuBC,QAAQuF,SAASvF,QAAQhC,MAAjB,GAA0B,CAA1B,GAA8BuH,IAAtC,CAAvB;;;YAGE,CAACvF,QAAQwF,OAAR,CAAgBF,KAAhB,CAAL,EAA6B;eACtBvF,OAAL,CAAa,MAAb,IAAuBuF,KAAvB;;;aAGG5E,IAAL;;;;;;;;;;;;6BASMwE,OAAOC,MAAM;UAEnB,CAAC,KAAK1E,KAAN,IACE,EAAEyE,UAAU,CAAV,GAAc,GAAd,GAAoBA,KAAtB,KACAC,SAAS,KAAKlF,IAAL,CAAU,WAAV,CAHb,EAKE,OAAO,IAAP;;UAEEwF,SAAS,KAAKhF,KAAL,CAAWyE,KAAxB;UACIf,QAAQ,KAAK1D,KAAL,CAAWiF,cAAvB;UACIpB,MAAM,KAAK7D,KAAL,CAAWkF,YAArB;;UAEKrB,MAAMH,KAAX,EAAmB;iBACRsB,OAAOG,KAAP,CAAa,CAAb,EAAgBzB,KAAhB,IAAyBsB,OAAOG,KAAP,CAAatB,GAAb,CAAlC;;;UAGEmB,UAAUN,SAAS,KAAKlF,IAAL,CAAU,WAAV,CAAnB,IAA6C,EAAEqE,MAAMH,KAAR,CAAjD,EAAiE;iBACtDsB,OAAOG,KAAP,CAAa,CAAb,EAAgBzB,QAAQ,CAAxB,IAA6BsB,OAAOG,KAAP,CAAazB,KAAb,CAAtC;;;;UAIIxC,OAAO9B,OAAOQ,MAAP,CAAc6E,KAAd,CAAb;UACIvD,SAAS,MAAT,IAAmBA,SAAS,WAAhC,EAA6C;iBAClC8D,OAAOG,KAAP,CAAa,CAAb,EAAgBzB,KAAhB,IAAyBe,KAAzB,GAAiCO,OAAOG,KAAP,CAAazB,KAAb,CAA1C;;;;WAIG1D,KAAL,CAAWyE,KAAX,GAAmBO,MAAnB;WACKhF,KAAL,CAAWkF,YAAX,GAA0BxB,KAA1B;;;;;;;;;;;6BAQ8B;UAAxBnE,OAAwB,uEAAd,KAAKA,OAAS;sBACE,KAAKD,OADP;UACtB8F,MADsB,aACtBA,MADsB;UACdC,KADc,aACdA,KADc;UACPC,IADO,aACPA,IADO;;;UAG1B,OAAOF,MAAP,KAAkB,UAAtB,EAAkC;eACzBA,OAAOpH,IAAP,CAAY,IAAZ,CAAP;;;UAGIqC,OAAO,KAAKiB,aAAL,CAAmB,MAAnB,CAAb;UACMiE,YAAY,KAAKjE,aAAL,CAAmB,WAAnB,CAAlB;;WAEKG,YAAL,CAAkB,KAAKF,MAAL,CAAY,MAAZ,EAAoB,QAApB,CAAlB,EAAiD,MAAjD;;UAEMiE,iBAAiB,KAAK9D,OAAL,CAAa,SAAb,CAAvB;UACM+D,mBAAmB,KAAK/D,OAAL,CAAa,WAAb,CAAzB;;;;;;;8BAE6BzE,OAAOC,OAAP,CAAeqC,OAAf,CAA7B,mIAAsD;;;;;cAA1C4B,IAA0C;cAApCU,MAAoC;;cAC9C6D,WAAW,KAAKC,SAAL,CAAe9D,MAAf,CAAjB;;mBAESJ,YAAT,CAAsB,KAAKF,MAAL,CAAY,MAAZ,EAAoB,MAApB,CAAtB,EAAmDJ,IAAnD;mBACSM,YAAT,CAAsB,KAAKF,MAAL,CAAY,MAAZ,EAAoB,QAApB,CAAtB,EAAqD,OAArD;;eAEKhB,OAAL,CAAaY,IAAb,IAAqBuE,QAArB;;oBAEUtC,WAAV,CAAsBoC,eAAeE,QAAf,EAAyB,CAACvE,IAAD,EAAOU,MAAP,CAAzB,CAAtB;;;;;;;;;;;;;;;;;WAGGuB,WAAL,CAAiBqC,iBAAiBF,SAAjB,EAA4BhG,OAA5B,CAAjB;;WAEKkC,YAAL,CAAkB,KAAKF,MAAL,CAAY,MAAZ,EAAoB,QAApB,CAAlB,EAAiD,OAAjD;WACKE,YAAL,CAAkB,KAAKF,MAAL,CAAY,MAAZ,EAAoB,OAApB,CAAlB,EAAgD8D,KAAhD;WACK5D,YAAL,CAAkB,KAAKF,MAAL,CAAY,MAAZ,EAAoB,MAApB,CAAlB,EAA+C+D,IAA/C;;WAEK9B,gBAAL,CAAsB,KAAKoC,SAA3B,EACE;eAAMhC,GAAGI,eAAH,MAAwBJ,GAAGG,cAAH,EAA9B;OADF,EAEE,KAFF;;WAKK1D,IAAL,GAAY,KAAKqB,OAAL,CAAa,MAAb,EAAqBrB,IAArB,CAAZ;;aAEO,KAAKA,IAAZ;;;;;;;;;;2BAOMjC,QAAQ;sBACmB,KAAKkB,OADxB;UACNV,IADM,aACNA,IADM;UACAuC,IADA,aACAA,IADA;UACMW,QADN,aACMA,QADN;;;UAGRxB,SAASlC,UAAUQ,IAAzB;;aAEOwE,WAAP,CACE,KAAKgC,MAAL,CAAYtD,WAAW,KAAKvC,OAAhB,sBAA6B4B,IAA7B,EAAoC,KAAK5B,OAAL,CAAa4B,IAAb,CAApC,CAAZ,CADF;;WAIKb,MAAL,GAAcA,MAAd;;;;;;;;;6BAMQ;UACJ,KAAKD,IAAL,IAAa,KAAKC,MAAtB,EAA8B;eACrB,CAAC,CAAC,KAAKA,MAAL,CAAYuF,WAAZ,CAAwB,KAAKxF,IAA7B,CAAT;;;aAGK,CAAC,CAACW,QAAQ8E,GAAR,CAAY,mDAAZ,CAAT;;;;;;;;;;6BAO+B;;;UAAzB/F,EAAyB,uEAApB,KAAKT,OAAL,CAAa,IAAb,CAAoB;;UAC3B,CAACS,EAAL,EAAS,OAAO,KAAP;;UAELgG,UAAU,EAAd;;cAEQ3G,OAAOQ,MAAP,CAAcG,EAAd,CAAR;aACO,QAAL;oBACYpB,SAASqH,gBAAT,CAA0BjG,EAA1B,CAAV;;;aAGG,UAAL;oBACYA,EAAV;;;;;cAKI,CAAC,iBAAiB6C,IAAjB,CAAsBxD,OAAOQ,MAAP,CAAcG,EAAd,CAAtB,CAAL,EAA+C,OAAO,KAAP;oBACrC,CAACA,EAAD,CAAV;;;;UAIA,CAACgG,OAAD,IAAY,CAACA,QAAQxI,MAAzB,EAAiC,OAAO,KAAP;;YAE3BO,SAAN,CAAgBmI,OAAhB,CAAwBjI,IAAxB,CAA6B+H,OAA7B,EAAsC,kBAAU;eACvCvC,gBAAP,CAAwB,OAAxB,EAAiC,cAAM;iBAChCxD,KAAL,GAAa4D,GAAGK,aAAhB;iBACKhE,IAAL;SAFF,EAGG,KAHH;;eAKOuD,gBAAP,CAAwB,MAAxB,EAAgC,cAAM;iBAC/BxD,KAAL,GAAa,IAAb;iBACKE,IAAL;SAFF,EAGG,KAHH;OANF;;;;;;;;;;;;;;+BAyBU;;;eACDtB,IAAT,CAAc4E,gBAAd,CAA+B,KAAKoC,SAApC,EAA+C,cAAM;eAC9C1F,IAAL;OADF,EAEG,KAFH;;WAIKG,IAAL,CAAUmD,gBAAV,CAA2B,KAAKoC,SAAhC,EACE;eAAMhC,GAAGI,eAAH,MAAwBJ,GAAGG,cAAH,EAA9B;OADF,EAEE,KAFF;;;;;;;;;;2BAUiC;UAA7B5C,IAA6B,uEAAtB,KAAK7B,OAAL,CAAa,MAAb,CAAsB;;UAC7B,CAAC,KAAKC,OAAL,CAAa4B,IAAb,CAAL,EAAyB;gBACff,KAAR,qCAAgDe,IAAhD;eACO,KAAP;;;WAGGd,IAAL,CAAUoB,YAAV,CAAuB,KAAKF,MAAL,CAAY,MAAZ,EAAoB,QAApB,CAAvB,EAAsD,QAAtD;WACKhB,OAAL,CAAaY,IAAb,EAAmBM,YAAnB,CAAgC,KAAKF,MAAL,CAAY,MAAZ,EAAoB,QAApB,CAAhC,EAA+D,QAA/D;;;;;;;;;;2BAOiC;UAA7BJ,IAA6B,uEAAtB,KAAK7B,OAAL,CAAa,MAAb,CAAsB;;UAC7B,CAAC,KAAKC,OAAL,CAAa4B,IAAb,CAAL,EAAyB;gBACff,KAAR,qCAAgDe,IAAhD;eACO,KAAP;;;WAGGd,IAAL,CAAUoB,YAAV,CAAuB,KAAKF,MAAL,CAAY,MAAZ,EAAoB,QAApB,CAAvB,EAAsD,OAAtD;WACKhB,OAAL,CAAaY,IAAb,EAAmBM,YAAnB,CAAgC,KAAKF,MAAL,CAAY,MAAZ,EAAoB,QAApB,CAAhC,EAA+D,OAA/D;;;;;;;;;;6BAOmC;UAA7BJ,IAA6B,uEAAtB,KAAK7B,OAAL,CAAa,MAAb,CAAsB;;UAC/B,KAAKe,IAAL,CAAU+D,YAAV,CAAuB,KAAK7C,MAAL,CAAY,MAAZ,EAAoB,QAApB,CAAvB,MAA0D,QAA9D,EAAwE;aACjErB,IAAL,CAAUiB,IAAV;OADF,MAEO;aACAlB,IAAL,CAAUkB,IAAV;;;;;;;;;;;2BAQiB;UAAf+E,MAAe,uEAAN,IAAM;;WACd7F,IAAL,CAAUoB,YAAV,CAAuB,KAAKF,MAAL,CAAY,MAAZ,EAAoB,MAApB,CAAvB,EAAoD,CAAC,CAAC2E,MAAtD;;;;;;;;;;;;2BA9cY;UACJpG,MADI,GACO,KAAKR,OADZ,CACJQ,MADI;;;aAGL;eACEA,SAAS,YAAT,GAAwB,WAD1B;aAEAA,SAAS,UAAT,GAAsB,SAFtB;cAGCA,SAAS,WAAT,GAAuB;OAH/B;;;;2BA0Ye;UACPI,IADO,GACE,KAAKZ,OADP,CACPY,IADO;;;aAGR,OAAOA,IAAP,KAAgB,QAAhB,GAA2BA,IAA3B,GAAkC,KAAKuD,MAAL,CAAYC,KAArD;;;;2BAuEahG,GAAGwD,MAAM;UAChBiF,IAAIlJ,OAAOa,SAAP,CAAiBsI,QAAjB,CAA0BpI,IAA1B,CAA+BN,CAA/B,EACP2I,OADO,CACC,mBADD,EACsB,IADtB,EAC4BC,WAD5B,EAAV;;UAGI,CAACpF,IAAL,EAAW,OAAOiF,CAAP;;aAEJjF,SAASiF,CAAhB;;;;;;;;;;;;;;;;;;;;;"}