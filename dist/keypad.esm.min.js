function __$$styleInject(e,t){void 0===t&&(t={});var r=t.insertAt;if(e&&"undefined"!=typeof document){var a=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css","top"===r&&a.firstChild?a.insertBefore(n,a.firstChild):a.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}}function unwrapExports(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function createCommonjsModule(e,t){return e(t={exports:{}},t.exports),t.exports}var _global=createCommonjsModule(function(e){var t=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=t)}),_core=createCommonjsModule(function(e){var t=e.exports={version:"2.5.3"};"number"==typeof __e&&(__e=t)}),_core_1=_core.version,_aFunction=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e},_ctx=function(e,t,r){if(_aFunction(e),void 0===t)return e;switch(r){case 1:return function(r){return e.call(t,r)};case 2:return function(r,a){return e.call(t,r,a)};case 3:return function(r,a,n){return e.call(t,r,a,n)}}return function(){return e.apply(t,arguments)}},_isObject=function(e){return"object"==typeof e?null!==e:"function"==typeof e},_anObject=function(e){if(!_isObject(e))throw TypeError(e+" is not an object!");return e},_fails=function(e){try{return!!e()}catch(e){return!0}},_descriptors=!_fails(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}),document$1=_global.document,is=_isObject(document$1)&&_isObject(document$1.createElement),_domCreate=function(e){return is?document$1.createElement(e):{}},_ie8DomDefine=!_descriptors&&!_fails(function(){return 7!=Object.defineProperty(_domCreate("div"),"a",{get:function(){return 7}}).a}),_toPrimitive=function(e,t){if(!_isObject(e))return e;var r,a;if(t&&"function"==typeof(r=e.toString)&&!_isObject(a=r.call(e)))return a;if("function"==typeof(r=e.valueOf)&&!_isObject(a=r.call(e)))return a;if(!t&&"function"==typeof(r=e.toString)&&!_isObject(a=r.call(e)))return a;throw TypeError("Can't convert object to primitive value")},dP=Object.defineProperty,f=_descriptors?Object.defineProperty:function(e,t,r){if(_anObject(e),t=_toPrimitive(t,!0),_anObject(r),_ie8DomDefine)try{return dP(e,t,r)}catch(e){}if("get"in r||"set"in r)throw TypeError("Accessors not supported!");return"value"in r&&(e[t]=r.value),e},_objectDp={f:f},_propertyDesc=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}},_hide=_descriptors?function(e,t,r){return _objectDp.f(e,t,_propertyDesc(1,r))}:function(e,t,r){return e[t]=r,e},PROTOTYPE="prototype",$export=function(e,t,r){var a,n,o,i=e&$export.F,s=e&$export.G,d=e&$export.S,p=e&$export.P,l=e&$export.B,u=e&$export.W,c=s?_core:_core[t]||(_core[t]={}),y=c[PROTOTYPE],f=s?_global:d?_global[t]:(_global[t]||{})[PROTOTYPE];s&&(r=t);for(a in r)(n=!i&&f&&void 0!==f[a])&&a in c||(o=n?f[a]:r[a],c[a]=s&&"function"!=typeof f[a]?r[a]:l&&n?_ctx(o,_global):u&&f[a]==o?function(e){var t=function(t,r,a){if(this instanceof e){switch(arguments.length){case 0:return new e;case 1:return new e(t);case 2:return new e(t,r)}return new e(t,r,a)}return e.apply(this,arguments)};return t[PROTOTYPE]=e[PROTOTYPE],t}(o):p&&"function"==typeof o?_ctx(Function.call,o):o,p&&((c.virtual||(c.virtual={}))[a]=o,e&$export.R&&y&&!y[a]&&_hide(y,a,o)))};$export.F=1,$export.G=2,$export.S=4,$export.P=8,$export.B=16,$export.W=32,$export.U=64,$export.R=128;var _export=$export;_export(_export.S+_export.F*!_descriptors,"Object",{defineProperty:_objectDp.f});var $Object=_core.Object,defineProperty=function(e,t,r){return $Object.defineProperty(e,t,r)},defineProperty$2=createCommonjsModule(function(e){e.exports={default:defineProperty,__esModule:!0}});unwrapExports(defineProperty$2);var defineProperty$4=createCommonjsModule(function(e,t){t.__esModule=!0;var r,a=(r=defineProperty$2)&&r.__esModule?r:{default:r};t.default=function(e,t,r){return t in e?(0,a.default)(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}}),_defineProperty$1=unwrapExports(defineProperty$4),_defined=function(e){if(void 0==e)throw TypeError("Can't call method on  "+e);return e},_toObject=function(e){return Object(_defined(e))},hasOwnProperty={}.hasOwnProperty,_has=function(e,t){return hasOwnProperty.call(e,t)},toString={}.toString,_cof=function(e){return toString.call(e).slice(8,-1)},_iobject=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==_cof(e)?e.split(""):Object(e)},_toIobject=function(e){return _iobject(_defined(e))},ceil=Math.ceil,floor=Math.floor,_toInteger=function(e){return isNaN(e=+e)?0:(e>0?floor:ceil)(e)},min=Math.min,_toLength=function(e){return e>0?min(_toInteger(e),9007199254740991):0},max=Math.max,min$1=Math.min,_toAbsoluteIndex=function(e,t){return(e=_toInteger(e))<0?max(e+t,0):min$1(e,t)},_arrayIncludes=function(e){return function(t,r,a){var n,o=_toIobject(t),i=_toLength(o.length),s=_toAbsoluteIndex(a,i);if(e&&r!=r){for(;i>s;)if((n=o[s++])!=n)return!0}else for(;i>s;s++)if((e||s in o)&&o[s]===r)return e||s||0;return!e&&-1}},SHARED="__core-js_shared__",store=_global[SHARED]||(_global[SHARED]={}),_shared=function(e){return store[e]||(store[e]={})},id=0,px=Math.random(),_uid=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++id+px).toString(36))},shared=_shared("keys"),_sharedKey=function(e){return shared[e]||(shared[e]=_uid(e))},arrayIndexOf=_arrayIncludes(!1),IE_PROTO=_sharedKey("IE_PROTO"),_objectKeysInternal=function(e,t){var r,a=_toIobject(e),n=0,o=[];for(r in a)r!=IE_PROTO&&_has(a,r)&&o.push(r);for(;t.length>n;)_has(a,r=t[n++])&&(~arrayIndexOf(o,r)||o.push(r));return o},_enumBugKeys="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(","),_objectKeys=Object.keys||function(e){return _objectKeysInternal(e,_enumBugKeys)},_objectSap=function(e,t){var r=(_core.Object||{})[e]||Object[e],a={};a[e]=t(r),_export(_export.S+_export.F*_fails(function(){r(1)}),"Object",a)};_objectSap("keys",function(){return function(e){return _objectKeys(_toObject(e))}});var keys=_core.Object.keys,keys$2=createCommonjsModule(function(e){e.exports={default:keys,__esModule:!0}}),_Object$keys=unwrapExports(keys$2),f$1={}.propertyIsEnumerable,_objectPie={f:f$1},isEnum=_objectPie.f,_objectToArray=function(e){return function(t){for(var r,a=_toIobject(t),n=_objectKeys(a),o=n.length,i=0,s=[];o>i;)isEnum.call(a,r=n[i++])&&s.push(e?[r,a[r]]:a[r]);return s}},$entries=_objectToArray(!0);_export(_export.S,"Object",{entries:function(e){return $entries(e)}});var entries=_core.Object.entries,entries$2=createCommonjsModule(function(e){e.exports={default:entries,__esModule:!0}}),_Object$entries=unwrapExports(entries$2),_iterStep=function(e,t){return{value:t,done:!!e}},_iterators={},_library=!0,_redefine=_hide,_objectDps=_descriptors?Object.defineProperties:function(e,t){_anObject(e);for(var r,a=_objectKeys(t),n=a.length,o=0;n>o;)_objectDp.f(e,r=a[o++],t[r]);return e},document$2=_global.document,_html=document$2&&document$2.documentElement,IE_PROTO$1=_sharedKey("IE_PROTO"),Empty=function(){},PROTOTYPE$1="prototype",createDict=function(){var e,t=_domCreate("iframe"),r=_enumBugKeys.length;for(t.style.display="none",_html.appendChild(t),t.src="javascript:",(e=t.contentWindow.document).open(),e.write("<script>document.F=Object<\/script>"),e.close(),createDict=e.F;r--;)delete createDict[PROTOTYPE$1][_enumBugKeys[r]];return createDict()},_objectCreate=Object.create||function(e,t){var r;return null!==e?(Empty[PROTOTYPE$1]=_anObject(e),r=new Empty,Empty[PROTOTYPE$1]=null,r[IE_PROTO$1]=e):r=createDict(),void 0===t?r:_objectDps(r,t)},_wks=createCommonjsModule(function(e){var t=_shared("wks"),r=_global.Symbol,a="function"==typeof r;(e.exports=function(e){return t[e]||(t[e]=a&&r[e]||(a?r:_uid)("Symbol."+e))}).store=t}),def=_objectDp.f,TAG=_wks("toStringTag"),_setToStringTag=function(e,t,r){e&&!_has(e=r?e:e.prototype,TAG)&&def(e,TAG,{configurable:!0,value:t})},IteratorPrototype={};_hide(IteratorPrototype,_wks("iterator"),function(){return this});var _iterCreate=function(e,t,r){e.prototype=_objectCreate(IteratorPrototype,{next:_propertyDesc(1,r)}),_setToStringTag(e,t+" Iterator")},IE_PROTO$2=_sharedKey("IE_PROTO"),ObjectProto=Object.prototype,_objectGpo=Object.getPrototypeOf||function(e){return e=_toObject(e),_has(e,IE_PROTO$2)?e[IE_PROTO$2]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?ObjectProto:null},ITERATOR=_wks("iterator"),BUGGY=!([].keys&&"next"in[].keys()),FF_ITERATOR="@@iterator",KEYS="keys",VALUES="values",returnThis=function(){return this},_iterDefine=function(e,t,r,a,n,o,i){_iterCreate(r,t,a);var s,d,p,l=function(e){if(!BUGGY&&e in f)return f[e];switch(e){case KEYS:case VALUES:return function(){return new r(this,e)}}return function(){return new r(this,e)}},u=t+" Iterator",c=n==VALUES,y=!1,f=e.prototype,k=f[ITERATOR]||f[FF_ITERATOR]||n&&f[n],h=!BUGGY&&k||l(n),b=n?c?l("entries"):h:void 0,_="Array"==t&&f.entries||k;if(_&&(p=_objectGpo(_.call(new e)))!==Object.prototype&&p.next&&(_setToStringTag(p,u,!0),_library||_has(p,ITERATOR)||_hide(p,ITERATOR,returnThis)),c&&k&&k.name!==VALUES&&(y=!0,h=function(){return k.call(this)}),_library&&!i||!BUGGY&&!y&&f[ITERATOR]||_hide(f,ITERATOR,h),_iterators[t]=h,_iterators[u]=returnThis,n)if(s={values:c?h:l(VALUES),keys:o?h:l(KEYS),entries:b},i)for(d in s)d in f||_redefine(f,d,s[d]);else _export(_export.P+_export.F*(BUGGY||y),t,s);return s},es6_array_iterator=_iterDefine(Array,"Array",function(e,t){this._t=_toIobject(e),this._i=0,this._k=t},function(){var e=this._t,t=this._k,r=this._i++;return!e||r>=e.length?(this._t=void 0,_iterStep(1)):_iterStep(0,"keys"==t?r:"values"==t?e[r]:[r,e[r]])},"values");_iterators.Arguments=_iterators.Array;for(var TO_STRING_TAG=_wks("toStringTag"),DOMIterables="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","),i=0;i<DOMIterables.length;i++){var NAME=DOMIterables[i],Collection=_global[NAME],proto=Collection&&Collection.prototype;proto&&!proto[TO_STRING_TAG]&&_hide(proto,TO_STRING_TAG,NAME),_iterators[NAME]=_iterators.Array}var _stringAt=function(e){return function(t,r){var a,n,o=String(_defined(t)),i=_toInteger(r),s=o.length;return i<0||i>=s?e?"":void 0:(a=o.charCodeAt(i))<55296||a>56319||i+1===s||(n=o.charCodeAt(i+1))<56320||n>57343?e?o.charAt(i):a:e?o.slice(i,i+2):n-56320+(a-55296<<10)+65536}},$at=_stringAt(!0);_iterDefine(String,"String",function(e){this._t=String(e),this._i=0},function(){var e,t=this._t,r=this._i;return r>=t.length?{value:void 0,done:!0}:(e=$at(t,r),this._i+=e.length,{value:e,done:!1})});var TAG$1=_wks("toStringTag"),ARG="Arguments"==_cof(function(){return arguments}()),tryGet=function(e,t){try{return e[t]}catch(e){}},_classof=function(e){var t,r,a;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(r=tryGet(t=Object(e),TAG$1))?r:ARG?_cof(t):"Object"==(a=_cof(t))&&"function"==typeof t.callee?"Arguments":a},ITERATOR$1=_wks("iterator"),core_getIteratorMethod=_core.getIteratorMethod=function(e){if(void 0!=e)return e[ITERATOR$1]||e["@@iterator"]||_iterators[_classof(e)]},core_getIterator=_core.getIterator=function(e){var t=core_getIteratorMethod(e);if("function"!=typeof t)throw TypeError(e+" is not iterable!");return _anObject(t.call(e))},getIterator=core_getIterator,getIterator$2=createCommonjsModule(function(e){e.exports={default:getIterator,__esModule:!0}}),_getIterator=unwrapExports(getIterator$2),ITERATOR$2=_wks("iterator"),core_isIterable=_core.isIterable=function(e){var t=Object(e);return void 0!==t[ITERATOR$2]||"@@iterator"in t||_iterators.hasOwnProperty(_classof(t))},isIterable=core_isIterable,isIterable$2=createCommonjsModule(function(e){e.exports={default:isIterable,__esModule:!0}});unwrapExports(isIterable$2);var slicedToArray=createCommonjsModule(function(e,t){t.__esModule=!0;var r=n(isIterable$2),a=n(getIterator$2);function n(e){return e&&e.__esModule?e:{default:e}}t.default=function(){return function(e,t){if(Array.isArray(e))return e;if((0,r.default)(Object(e)))return function(e,t){var r=[],n=!0,o=!1,i=void 0;try{for(var s,d=(0,a.default)(e);!(n=(s=d.next()).done)&&(r.push(s.value),!t||r.length!==t);n=!0);}catch(e){o=!0,i=e}finally{try{!n&&d.return&&d.return()}finally{if(o)throw i}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}()}),_slicedToArray=unwrapExports(slicedToArray),f$2=Object.getOwnPropertySymbols,_objectGops={f:f$2},$assign=Object.assign,_objectAssign=!$assign||_fails(function(){var e={},t={},r=Symbol(),a="abcdefghijklmnopqrst";return e[r]=7,a.split("").forEach(function(e){t[e]=e}),7!=$assign({},e)[r]||Object.keys($assign({},t)).join("")!=a})?function(e,t){for(var r=_toObject(e),a=arguments.length,n=1,o=_objectGops.f,i=_objectPie.f;a>n;)for(var s,d=_iobject(arguments[n++]),p=o?_objectKeys(d).concat(o(d)):_objectKeys(d),l=p.length,u=0;l>u;)i.call(d,s=p[u++])&&(r[s]=d[s]);return r}:$assign;_export(_export.S+_export.F,"Object",{assign:_objectAssign});var assign=_core.Object.assign,assign$2=createCommonjsModule(function(e){e.exports={default:assign,__esModule:!0}}),_Object$assign=unwrapExports(assign$2),classCallCheck=createCommonjsModule(function(e,t){t.__esModule=!0,t.default=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}}),_classCallCheck=unwrapExports(classCallCheck),createClass=createCommonjsModule(function(e,t){t.__esModule=!0;var r,a=(r=defineProperty$2)&&r.__esModule?r:{default:r};t.default=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),(0,a.default)(e,n.key,n)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}()}),_createClass=unwrapExports(createClass),defaultOptions={el:null,input:null,inputWhen:"end",flex:!0,mobile:!0,onstart:null,onend:null,name:"number",multiple:!0,show:!1,hide:!1,render:null,reducer:{wrap:null,container:null,content:null,row:null,key:null},tag:null,theme:"default",dark:!1,body:document.body,inject:!0},number=[[[7],[8],[9]],[[4],[5],[6]],[[1],[2],[3]],[["En",null,"@@qwer"],["."],[0],["svg[backspace]",null,"backspace"]]],qwer=[[["q"],["w"],["e"],["r"],["t"],["y"],["u"],["i"],["o"],["p"]],[["a"],["s"],["d"],["f"],["g"],["h"],["j"],["k"],["l"]],[["svg[upper]",null,"upper"],["z"],["x"],["c"],["v"],["b"],["n"],["m"],["svg[backspace]",null,"backspace"]],[["123",null,"@@number"],["Space"," "],[","],["."],["svg[done]",null,"enter"]]],defaultLayouts=Object.freeze({number:number,qwer:qwer}),defaultMaps={backspace:"backspace",upper:"upper",ctrl:"ctrl",alt:"alt",shift:"shift"},upper='<svg version="1.1" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M6 18v-2.016h12v2.016h-12zM12 8.391l-4.594 4.594-1.406-1.406 6-6 6 6-1.406 1.406z"></path></svg>',backspace='<svg version="1.1" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M18.984 15.609l-3.563-3.609 3.563-3.609-1.406-1.406-3.563 3.609-3.609-3.609-1.406 1.406 3.609 3.609-3.609 3.609 1.406 1.406 3.609-3.609 3.563 3.609zM21.984 3c1.078 0 2.016 0.938 2.016 2.016v13.969c0 1.078-0.938 2.016-2.016 2.016h-15c-0.703 0-1.219-0.375-1.594-0.891l-5.391-8.109 5.391-8.109c0.375-0.516 0.891-0.891 1.594-0.891h15z"></path></svg>',clear='<svg version="1.1" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M19,4H15.5L14.5,3H9.5L8.5,4H5V6H19M6,19A2,2 0 0,0 8,21H16A2,2 0 0,0 18,19V7H6V19Z" /></svg>',add='<svg version="1.1" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M19,13H13V19H11V13H5V11H11V5H13V11H19V13Z" /></svg>',done='<svg version="1.1" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M9 16.219l10.594-10.641 1.406 1.406-12 12-5.578-5.578 1.359-1.406z"></path></svg>',images=Object.freeze({upper:upper,backspace:backspace,clear:clear,add:add,done:done}),Keypad=function(){function e(){_classCallCheck(this,e);for(var t=arguments.length,r=Array(t),a=0;a<t;a++)r[a]=arguments[a];var n=r[0],o=void 0===n?{}:n,i=r[1],s=void 0===i?{}:i,d=r[2],p=void 0===d?{}:d;"function"==typeof o&&(o=o(_Object$assign({},defaultOptions))),"function"==typeof s&&(s=s(_Object$assign({},defaultLayouts))),"function"==typeof p&&(p=p(_Object$assign({},defaultMaps))),this.options=_Object$assign({},defaultOptions,o),this.layouts=_Object$assign({},defaultLayouts,s),this.maps=_Object$assign({},defaultMaps,p),e.istype(e.isMobile,"undefined")||(this.options.mobile=e.isMobile);var l=this.options,u=l.el,c=l.input,y=l.show,f=l.hide,k=l.body,h=l.inject;if(k||console.error('Option "body" is '+k+", maybe you need to wait the body loaded by 'window.onload'."),this.wrap=null,this.parent=k||null,this.input=c||null,this.keypads={},this.hightlight=null,this.locked=null,e.istype(e.plugins,"array")){var b=!0,_=!1,m=void 0;try{for(var x,v=_getIterator(_Object$entries(e.plugins));!(b=(x=v.next()).done);b=!0){var w=x.value,g=_slicedToArray(w,2),O=g[0],j=g[1];this.use(j,O)}}catch(e){_=!0,m=e}finally{try{!b&&v.return&&v.return()}finally{if(_)throw m}}}u&&this.listen(),h&&k&&this.inject(),y&&this.show(),f&&this.bodyHide()}return _createClass(e,[{key:"use",value:function(e,t){if("function"!=typeof e)return console.warn("["+t+"] in Keypad.plugins is not a function.");e.call(this)}},{key:"prefix",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"elem",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return{elem:"kypd"+(this.options.flex?"-flex":"")+"-"+(t||"span"),attr:"data-kypd-"+(t||"blank")}[e]}},{key:"createElement",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.options.tag;if(!t)return document.createElement(this.prefix("elem",e));var r=document.createElement(t);return r.setAttribute(this.prefix("attr","tag"),e),r}},{key:"reducer",value:function(t){var r=this,a=this.options.reducer;return e.istype(a,"object")?"function"==typeof a[t]?function(e,n){return a[t].call(r,e,n)||document.createDocumentFragment()}:function(e){return e}:console.error('"reducer" must to be a plain object.')}},{key:"generator",value:function(e){var t=this,r=this.options.multiple,a=this.createElement("content"),n=this.createElement("key-row"),o=this.createElement("key"),i=document.createElement("span"),s=this.reducer("row"),d=this.reducer("key"),p=!0,l=!1,u=void 0;try{for(var c,y=_getIterator(e);!(p=(c=y.next()).done);p=!0){var f=c.value,k=n.cloneNode(),h=function(e,a,n){var s=o.cloneNode(),p=i.cloneNode();if(/svg\[.+\]/.test(e)){var l=e.match(/svg\[(.+)\]/)[1],u=images[l];if(!u)return console.wran('No image is named "'+l+'"'),"break";var c=document.createElementNS("http://www.w3.org/1999/xhtml","div");c.innerHTML=u,p.appendChild(c.querySelector("svg"))}else if(/(<\/svg>[\s]?)$/.test(e)){var y=document.createElementNS("http://www.w3.org/1999/xhtml","div");y.innerHTML=e,p.appendChild(y.querySelector("svg"))}else p.textContent=e;if((a||!a&&!n)&&(a=a||e,s.setAttribute(t.prefix("attr","key-value"),a||e)),n){if(!r&&/^@@/.test(n+""))return"continue";s.setAttribute(t.prefix("attr","key-code"),n)}s.setAttribute(t.prefix("attr","status"),""),s.addEventListener(t.events.start,function(r){return t.handleKey(r,"start",[e,a,n])},!1),s.addEventListener(t.events.end,function(r){return t.handleKey(r,"end",[e,a,n])},!1),s.appendChild(p),k.appendChild(d(s,[e,a,n])),j=a},b=!0,_=!1,m=void 0;try{e:for(var x,v=_getIterator(f);!(b=(x=v.next()).done);b=!0){var w=x.value,g=_slicedToArray(w,3),O=g[0],j=g[1],T=g[2];switch(h(O,j,T)){case"break":break e;case"continue":continue}}}catch(e){_=!0,m=e}finally{try{!b&&v.return&&v.return()}finally{if(_)throw m}}a.appendChild(s(k,f))}}catch(e){l=!0,u=e}finally{try{!p&&y.return&&y.return()}finally{if(l)throw u}}return a}},{key:"handleKey",value:function(e,t,r){var a=_slicedToArray(r,3),n=a[0],o=a[1],i=a[2];e.preventDefault(),e.stopPropagation();var s=e.currentTarget,d=this.prefix("attr","status");if(("active"!==s.getAttribute(d)&&("start"===t&&s.setAttribute(d,"start"),"end"===t&&s.setAttribute(d,"")),i||this.locked!==this.maps.upper||(n=n&&(""+n).toUpperCase(),o=o&&(""+o).toUpperCase()),this.keyMap(t,o,i),"function"==typeof this.options["on"+t])&&this.options["on"+t].call(s,[n,o,i],e))return!0;t===this.options.inputWhen&&this.keyInput(o,i)}},{key:"keyMap",value:function(e,t,r){var a=this.options.name,n=this.keypads[a],o=this.prefix("attr","hightlight"),i=n.getAttribute("hightlight")||"";if(i=i?i+"+"+(r||t):r||t,"start"===e&&(this.hightlight=i,n.setAttribute(o,i)),"end"===e&&n.setAttribute(o,""),"start"===e&&r===this.maps.upper){var s=this.prefix("attr","locked");this.locked?(this.locked=null,n.removeAttribute(s)):(this.locked=r,n.setAttribute(s,r))}if("end"===e&&/^@@/.test(r)){var d=r.match(/^@@(.*)/)[1];this.hide();var p=_Object$keys(this.layouts);if("string"==typeof d&&!d.length){var l=p.indexOf(a)+1;this.options.name=p[l===p.length?0:l]}~p.indexOf(d)&&(this.options.name=d),this.show()}}},{key:"keyInput",value:function(t,r){if(!this.input||0!==t&&!t&&r!==this.maps.backspace)return!0;var a=this.input.value,n=this.input.selectionStart,o=this.input.selectionEnd;o-n&&(a=a.slice(0,n)+a.slice(o)),!a||r!==this.maps.backspace||o-n||(a=a.slice(0,n-1)+a.slice(n),n--);var i=e.istype(t);"null"!==i&&"undefined"!==i&&(a=a.slice(0,n)+t+a.slice(n),n++),this.input.value=a,this.input.selectionEnd=n}},{key:"render",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.layouts,t=this.options,r=t.render,a=t.theme,n=t.dark;if("function"==typeof r)return r.call(this);var o=this.createElement("wrap"),i=this.createElement("container");o.setAttribute(this.prefix("attr","status"),"none");var s=this.reducer("content"),d=this.reducer("container"),p=!0,l=!1,u=void 0;try{for(var c,y=_getIterator(_Object$entries(e));!(p=(c=y.next()).done);p=!0){var f=c.value,k=_slicedToArray(f,2),h=k[0],b=k[1],_=this.generator(b);_.setAttribute(this.prefix("attr","name"),h),_.setAttribute(this.prefix("attr","status"),"ready"),this.keypads[h]=_,i.appendChild(s(_,[h,b]))}}catch(e){l=!0,u=e}finally{try{!p&&y.return&&y.return()}finally{if(l)throw u}}return o.appendChild(d(i,e)),o.setAttribute(this.prefix("attr","status"),"ready"),o.setAttribute(this.prefix("attr","theme"),a),o.setAttribute(this.prefix("attr","dark"),n),o.addEventListener(this.bodyEvent,function(e){return e.stopPropagation()||e.preventDefault()},!1),this.wrap=this.reducer("wrap")(o),this.wrap}},{key:"inject",value:function(e){var t=this.options,r=t.body,a=t.name,n=t.multiple,o=e||r;o.appendChild(this.render(n?this.layouts:_defineProperty$1({},a,this.layouts[a]))),this.parent=o}},{key:"remove",value:function(){return this.wrap&&this.parent?!!this.parent.removeChild(this.wrap):!!console.log('Has not found "Keypad" that needed to be removed.')}},{key:"listen",value:function(){var t=this,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.options.el;if(!r)return!1;var a=[];switch(e.istype(r)){case"string":a=document.querySelectorAll(r);break;case"nodelist":a=r;break;default:if(!/html\w*element/.test(e.istype(r)))return!1;a=[r]}if(!a||!a.length)return!1;Array.prototype.forEach.call(a,function(e){e.addEventListener("focus",function(e){t.input=e.currentTarget,t.show()},!1),e.addEventListener("blur",function(e){t.input=null,t.hide()},!1)})}},{key:"bodyHide",value:function(){var e=this;document.body.addEventListener(this.bodyEvent,function(t){e.hide()},!1),this.wrap.addEventListener(this.bodyEvent,function(e){return e.stopPropagation()||e.preventDefault()},!1)}},{key:"show",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.options.name;if(!this.layouts[e])return console.error('Has not a keypad layout named "'+e+'"'),!1;this.wrap.setAttribute(this.prefix("attr","status"),"active"),this.keypads[e].setAttribute(this.prefix("attr","status"),"active")}},{key:"hide",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.options.name;if(!this.layouts[e])return console.error('Has not a keypad layout named "'+e+'"'),!1;this.wrap.setAttribute(this.prefix("attr","status"),"ready"),this.keypads[e].setAttribute(this.prefix("attr","status"),"ready")}},{key:"toggle",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.options.name;"active"===this.wrap.getAttribute(this.prefix("attr","status"))?this.hide(e):this.show(e)}},{key:"dark",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.wrap.setAttribute(this.prefix("attr","dark"),!!e)}},{key:"events",get:function(){var e=this.options.mobile;return{start:e?"touchstart":"mousedown",end:e?"touchend":"mouseup",move:e?"touchmove":"mousemove"}}},{key:"bodyEvent",get:function(){var e=this.options.hide;return"string"==typeof e?e:this.events.start}}],[{key:"istype",value:function(e,t){var r=Object.prototype.toString.call(e).replace(/^\[object (.+)\]$/,"$1").toLowerCase();return t?t===r:r}}]),e}(),css="kypd-flex-wrap,kypd-wrap{width:auto;font-family:Arial,Helvetica,sans-serif;left:0;bottom:0;right:0;z-index:1;position:fixed;display:block;-webkit-transition:opacity .35s,visibility .35s,-webkit-transform .25s cubic-bezier(.215,.61,.355,1);transition:opacity .35s,visibility .35s,-webkit-transform .25s cubic-bezier(.215,.61,.355,1);transition:opacity .35s,visibility .35s,transform .25s cubic-bezier(.215,.61,.355,1);transition:opacity .35s,visibility .35s,transform .25s cubic-bezier(.215,.61,.355,1),-webkit-transform .25s cubic-bezier(.215,.61,.355,1)}kypd-flex-wrap[data-kypd-status=none],kypd-wrap[data-kypd-status=none]{display:none}kypd-flex-wrap[data-kypd-status=ready],kypd-wrap[data-kypd-status=ready]{opacity:0;visibility:hidden;-webkit-transform:translateY(100%);transform:translateY(100%)}kypd-flex-wrap[data-kypd-status=active],kypd-wrap[data-kypd-status=active]{opacity:1;visibility:visible;-webkit-transform:translateY(0);transform:translateY(0)}kypd-container,kypd-flex-container{width:inherit}kypd-content,kypd-flex-content{margin:0 auto;left:0;bottom:0;right:0;-webkit-transition:-webkit-transform .25s cubic-bezier(.215,.61,.355,1);transition:-webkit-transform .25s cubic-bezier(.215,.61,.355,1);transition:transform .25s cubic-bezier(.215,.61,.355,1);transition:transform .25s cubic-bezier(.215,.61,.355,1),-webkit-transform .25s cubic-bezier(.215,.61,.355,1)}kypd-content[data-kypd-status=ready],kypd-flex-content[data-kypd-status=ready]{opacity:0;-webkit-transform:translateY(100%);transform:translateY(100%);position:absolute}kypd-content[data-kypd-status=active],kypd-flex-content[data-kypd-status=active]{opacity:1;-webkit-transform:translateY(0);transform:translateY(0);position:relative}kypd-content[data-kypd-locked=upper] [data-kypd-key-value],kypd-flex-content[data-kypd-locked=upper] [data-kypd-key-value]{text-transform:uppercase}kypd-content[data-kypd-name=number],kypd-flex-content[data-kypd-name=number]{max-width:240px}kypd-content[data-kypd-name=qwer],kypd-flex-content[data-kypd-name=qwer]{max-width:560px}kypd-flex-key svg,kypd-key svg{fill:currentColor}kypd-flex-container{-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center}kypd-flex-container,kypd-flex-content{-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;-webkit-box-align:center;-ms-flex-align:center;align-items:center;display:-webkit-box;display:-ms-flexbox;display:flex}kypd-flex-content{width:100%}kypd-flex-key-row{width:100%;-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between}kypd-flex-key,kypd-flex-key-row,kypd-flex-key>span{-webkit-box-align:center;-ms-flex-align:center;align-items:center;display:-webkit-box;display:-ms-flexbox;display:flex}kypd-flex-key,kypd-flex-key>span{-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-flex:1;-ms-flex:auto;flex:auto}";__$$styleInject(css);var css$2='kypd-flex-wrap[data-kypd-theme=default],kypd-wrap[data-kypd-theme=default]{background-color:#fff}kypd-flex-wrap[data-kypd-theme=default] kypd-container,kypd-flex-wrap[data-kypd-theme=default] kypd-flex-container,kypd-wrap[data-kypd-theme=default] kypd-container,kypd-wrap[data-kypd-theme=default] kypd-flex-container{background-color:inherit;border-top:1px solid #f5f5f5;padding:8px 4px}kypd-flex-wrap[data-kypd-theme=default] kypd-content[data-kypd-locked=upper] [data-kypd-key-code=upper]>span,kypd-flex-wrap[data-kypd-theme=default] kypd-flex-content[data-kypd-locked=upper] [data-kypd-key-code=upper]>span,kypd-wrap[data-kypd-theme=default] kypd-content[data-kypd-locked=upper] [data-kypd-key-code=upper]>span,kypd-wrap[data-kypd-theme=default] kypd-flex-content[data-kypd-locked=upper] [data-kypd-key-code=upper]>span{border-radius:2px;background-color:#07f;color:#fff}kypd-flex-wrap[data-kypd-theme=default] kypd-flex-key,kypd-flex-wrap[data-kypd-theme=default] kypd-key,kypd-wrap[data-kypd-theme=default] kypd-flex-key,kypd-wrap[data-kypd-theme=default] kypd-key{cursor:default;padding:4px 2px}kypd-flex-wrap[data-kypd-theme=default] kypd-flex-key>span,kypd-flex-wrap[data-kypd-theme=default] kypd-key>span,kypd-wrap[data-kypd-theme=default] kypd-flex-key>span,kypd-wrap[data-kypd-theme=default] kypd-key>span{border-radius:2px;-webkit-box-shadow:0 1px 2px rgba(73,158,255,.431);box-shadow:0 1px 2px rgba(73,158,255,.431);height:44px;font-size:16px;display:-webkit-box;display:-ms-flexbox;display:flex;background-color:#fff;color:#07f;-webkit-transition:background-color .25s cubic-bezier(.075,.82,.165,1),opacity .45s cubic-bezier(.215,.61,.355,1),color .25s cubic-bezier(.175,.885,.32,1.275);transition:background-color .25s cubic-bezier(.075,.82,.165,1),opacity .45s cubic-bezier(.215,.61,.355,1),color .25s cubic-bezier(.175,.885,.32,1.275)}kypd-flex-wrap[data-kypd-theme=default] kypd-flex-key[data-kypd-status=start]>span,kypd-flex-wrap[data-kypd-theme=default] kypd-key[data-kypd-status=start]>span,kypd-wrap[data-kypd-theme=default] kypd-flex-key[data-kypd-status=start]>span,kypd-wrap[data-kypd-theme=default] kypd-key[data-kypd-status=start]>span{background-color:#07f;color:#fff;opacity:.9}kypd-flex-wrap[data-kypd-theme=default] kypd-flex-key[data-kypd-key-code=enter]>span,kypd-flex-wrap[data-kypd-theme=default] kypd-key[data-kypd-key-code=enter]>span,kypd-wrap[data-kypd-theme=default] kypd-flex-key[data-kypd-key-code=enter]>span,kypd-wrap[data-kypd-theme=default] kypd-key[data-kypd-key-code=enter]>span{border-radius:8px;background-color:#07f;color:#fff}kypd-flex-wrap[data-kypd-theme=default] kypd-flex-content[data-kypd-name=number] kypd-flex-key{width:0}kypd-flex-wrap[data-kypd-theme=default] kypd-flex-content[data-kypd-name=number] kypd-flex-key[data-kypd-key-value="0"]{-webkit-box-flex:2;-ms-flex-positive:2;flex-grow:2}kypd-flex-wrap[data-kypd-theme=default] kypd-flex-content[data-kypd-name=qwer] kypd-flex-key-row:nth-child(2):after,kypd-flex-wrap[data-kypd-theme=default] kypd-flex-content[data-kypd-name=qwer] kypd-flex-key-row:nth-child(2):before{content:"";margin-left:-6px;margin-right:-6px;-webkit-box-flex:1;-ms-flex:1 1 auto;flex:1 1 auto;display:-webkit-box;display:-ms-flexbox;display:flex}kypd-flex-wrap[data-kypd-theme=default] kypd-flex-content[data-kypd-name=qwer] kypd-flex-key{width:0}kypd-flex-wrap[data-kypd-theme=default] kypd-flex-content[data-kypd-name=qwer] kypd-flex-key[data-kypd-key-value=" "]{-webkit-box-flex:6;-ms-flex-positive:6;flex-grow:6}kypd-flex-wrap[data-kypd-theme=default] kypd-flex-content[data-kypd-name=qwer] kypd-flex-key[data-kypd-key-code="@@number"],kypd-flex-wrap[data-kypd-theme=default] kypd-flex-content[data-kypd-name=qwer] kypd-flex-key[data-kypd-key-code=enter]{-webkit-box-flex:2;-ms-flex-positive:2;flex-grow:2}';__$$styleInject(css$2);var css$4="kypd-flex-wrap[data-kypd-theme=default][data-kypd-dark=true],kypd-wrap[data-kypd-theme=default][data-kypd-dark=true]{background-color:#1b1d20}kypd-flex-wrap[data-kypd-theme=default][data-kypd-dark=true] kypd-container,kypd-flex-wrap[data-kypd-theme=default][data-kypd-dark=true] kypd-flex-container,kypd-wrap[data-kypd-theme=default][data-kypd-dark=true] kypd-container,kypd-wrap[data-kypd-theme=default][data-kypd-dark=true] kypd-flex-container{border-top:1px solid #111417}kypd-flex-wrap[data-kypd-theme=default][data-kypd-dark=true] kypd-flex-key>span,kypd-flex-wrap[data-kypd-theme=default][data-kypd-dark=true] kypd-key>span,kypd-wrap[data-kypd-theme=default][data-kypd-dark=true] kypd-flex-key>span,kypd-wrap[data-kypd-theme=default][data-kypd-dark=true] kypd-key>span{background-color:#1b1d20;-webkit-box-shadow:0 1px 2px rgba(63,84,107,.431);box-shadow:0 1px 2px rgba(63,84,107,.431)}kypd-flex-wrap[data-kypd-theme=default][data-kypd-dark=true] kypd-flex-key[data-kypd-key-code=enter]>span,kypd-flex-wrap[data-kypd-theme=default][data-kypd-dark=true] kypd-flex-key[data-kypd-status=start]>span,kypd-flex-wrap[data-kypd-theme=default][data-kypd-dark=true] kypd-key[data-kypd-key-code=enter]>span,kypd-flex-wrap[data-kypd-theme=default][data-kypd-dark=true] kypd-key[data-kypd-status=start]>span,kypd-wrap[data-kypd-theme=default][data-kypd-dark=true] kypd-flex-key[data-kypd-key-code=enter]>span,kypd-wrap[data-kypd-theme=default][data-kypd-dark=true] kypd-flex-key[data-kypd-status=start]>span,kypd-wrap[data-kypd-theme=default][data-kypd-dark=true] kypd-key[data-kypd-key-code=enter]>span,kypd-wrap[data-kypd-theme=default][data-kypd-dark=true] kypd-key[data-kypd-status=start]>span{background-color:#07f;color:#1b1d20}";__$$styleInject(css$4);export default Keypad;
